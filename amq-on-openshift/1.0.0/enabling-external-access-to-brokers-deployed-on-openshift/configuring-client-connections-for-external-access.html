<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configuring Client Connections for External Access :: AMQ Broker on OpenShift: Deployment and Management</title>
    <link rel="prev" href="exposing-broker-listeners-via-openshift-routes.html">
    <link rel="next" href="security-implications-and-best-practices-for-external-access.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">AMQ Broker on OpenShift: Deployment and Management</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/REPLACEREPONAME/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="amq-on-openshift" data-version="1.0.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">AMQ Broker on OpenShift: Deployment and Management</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../overview-of-message-oriented-middleware/overview-of-message-oriented-middleware.html">Overview of Message-Oriented Middleware</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview-of-message-oriented-middleware/introduction-to-message-oriented-middleware-mom.html">Introduction to Message-Oriented Middleware (MOM)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview-of-message-oriented-middleware/benefits-and-use-cases-of-asynchronous-messaging.html">Benefits and Use Cases of Asynchronous Messaging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview-of-message-oriented-middleware/core-concepts-producers-consumers-queues-topics.html">Core Concepts: Producers, Consumers, Queues, Topics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview-of-message-oriented-middleware/common-messaging-patterns-point-to-point-publishsubscribe.html">Common Messaging Patterns (Point-to-Point, Publish/Subscribe)</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../amq-broker-overview/amq-broker-overview.html">AMQ Broker Overview</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/introduction-to-red-hat-amq-broker.html">Introduction to Red Hat AMQ Broker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/foundations-in-apache-activemq-artemis.html">Foundations in Apache ActiveMQ Artemis</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/key-features-and-capabilities.html">Key Features and Capabilities</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/supported-messaging-protocols-jms-amqp-mqtt-stomp-openwire.html">Supported Messaging Protocols (JMS, AMQP, MQTT, STOMP, OpenWire)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/amq-broker-architecture.html">AMQ Broker Architecture</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/deploying-amq-broker-on-openshift.html">Deploying AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/openshift-container-platform-fundamentals-for-amq-broker.html">OpenShift Container Platform Fundamentals for AMQ Broker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/introduction-to-the-amq-broker-operator.html">Introduction to the AMQ Broker Operator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/installing-the-amq-broker-operator-via-cli-or-operatorhub.html">Installing the AMQ Broker Operator via CLI or OperatorHub</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/understanding-amq-broker-custom-resource-definitions-crds.html">Understanding AMQ Broker Custom Resource Definitions (CRDs)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/creating-and-managing-broker-instances-with-custom-resources-crs.html">Creating and Managing Broker Instances with Custom Resources (CRs)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/monitoring-initial-broker-deployment.html">Monitoring Initial Broker Deployment</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/scaling-amq-broker-on-openshift.html">Scaling AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/concepts-of-horizontal-and-vertical-scaling.html">Concepts of Horizontal and Vertical Scaling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/scaling-broker-pods-and-replicas.html">Scaling Broker Pods and Replicas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/adjusting-resource-allocations-cpu-memory-for-broker-pods.html">Adjusting Resource Allocations (CPU, Memory) for Broker Pods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/performance-considerations-for-scaling.html">Performance Considerations for Scaling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/best-practices-for-scaling-in-openshift.html">Best Practices for Scaling in OpenShift</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../securing-amq-broker-on-openshift/securing-amq-broker-on-openshift.html">Securing AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/encrypting-connections.html">Encrypting Connections</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/configuring-ssltls-for-client-broker-communication.html">Configuring SSL/TLS for Client-Broker Communication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/managing-certificates-and-trust-stores-on-openshift.html">Managing Certificates and Trust Stores on OpenShift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/enabling-secure-listeners.html">Enabling Secure Listeners</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/enabling-rbac-role-based-access-control.html">Enabling RBAC (Role-Based Access Control)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/defining-users-roles-and-permissions-in-amq-broker.html">Defining Users, Roles, and Permissions in AMQ Broker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/integrating-with-openshift-authentication-mechanisms.html">Integrating with OpenShift Authentication Mechanisms</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/integrating-external-identity-providers-idp.html">Integrating External Identity Providers (IDP)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/overview-of-external-idp-integration-eg-ldap-keycloak.html">Overview of External IDP Integration (e.g., LDAP, Keycloak)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/configuring-amq-broker-for-external-idp-authentication.html">Configuring AMQ Broker for External IDP Authentication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/mapping-external-roles-to-broker-roles.html">Mapping External Roles to Broker Roles</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/amq-broker-high-availability-on-openshift.html">AMQ Broker High Availability on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/introduction-to-high-availability-ha-concepts.html">Introduction to High Availability (HA) Concepts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/broker-clustering-strategies-shared-store-vs-replicated-live-backup.html">Broker Clustering Strategies: Shared Store vs. Replicated Live-Backup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/deploying-and-configuring-an-ha-broker-pair.html">Deploying and Configuring an HA Broker Pair</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/understanding-failover-and-recovery-mechanisms.html">Understanding Failover and Recovery Mechanisms</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/persistence-and-data-replication-for-ha.html">Persistence and Data Replication for HA</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/different-message-stores-for-amq-broker-on-openshift.html">Different Message Stores for AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/overview-of-message-store-options.html">Overview of Message Store Options</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/file-based-message-store-configuration.html">File-Based Message Store Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/jdbc-message-store-integration-with-external-databases.html">JDBC Message Store Integration with External Databases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/journal-vs-paging-for-message-persistence.html">Journal vs. Paging for Message Persistence</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/choosing-the-appropriate-message-store-strategy.html">Choosing the Appropriate Message Store Strategy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/openshift-storage-considerations-persistent-volumes.html">OpenShift Storage Considerations (Persistent Volumes)</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/accessing-management-console-for-amq-broker-on-openshift.html">Accessing Management Console for AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/introduction-to-the-hawtio-management-console.html">Introduction to the Hawtio Management Console</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/exposing-the-console-via-openshift-routes.html">Exposing the Console via OpenShift Routes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/authentication-and-authorization-for-console-access.html">Authentication and Authorization for Console Access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/monitoring-broker-metrics-queues-and-topics.html">Monitoring Broker Metrics, Queues, and Topics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/performing-administrative-tasks-through-the-console.html">Performing Administrative Tasks through the Console</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="enabling-external-access-to-brokers-deployed-on-openshift.html">Enabling External Access to Brokers Deployed on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="openshift-networking-concepts-services-routes-ingress.html">OpenShift Networking Concepts: Services, Routes, Ingress</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="exposing-broker-listeners-via-openshift-routes.html">Exposing Broker Listeners via OpenShift Routes</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="configuring-client-connections-for-external-access.html">Configuring Client Connections for External Access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="security-implications-and-best-practices-for-external-access.html">Security Implications and Best Practices for External Access</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../core-protocol-client-examples/core-protocol-client-examples.html">Core Protocol Client Examples</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/introduction-to-amq-core-protocol.html">Introduction to AMQ Core Protocol</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/setting-up-a-core-protocol-client-development-environment.html">Setting Up a Core Protocol Client Development Environment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/developing-producers-and-consumers-with-java-core-protocol.html">Developing Producers and Consumers with Java Core Protocol</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/implementing-point-to-point-messaging.html">Implementing Point-to-Point Messaging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/implementing-publishsubscribe-messaging.html">Implementing Publish/Subscribe Messaging</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../amqp-protocol-client-examples/amqp-protocol-client-examples.html">AMQP Protocol Client Examples</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/introduction-to-amqp-10-standard.html">Introduction to AMQP 1.0 Standard</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/setting-up-an-amqp-client-development-environment-eg-qpid-jms.html">Setting Up an AMQP Client Development Environment (e.g., Qpid JMS)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/developing-producers-and-consumers-with-amqp-clients-eg-java-python.html">Developing Producers and Consumers with AMQP Clients (e.g., Java, Python)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/connecting-to-amq-broker-using-amqp.html">Connecting to AMQ Broker using AMQP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/exploring-advanced-amqp-features.html">Exploring Advanced AMQP Features</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/hands-on-lab-deploying-and-managing-amq-broker.html">Hands-on Lab: Deploying and Managing AMQ Broker</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-deploying-a-basic-amq-broker-instance.html">Lab: Deploying a Basic AMQ Broker Instance</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-configuring-external-access-and-testing-client-connectivity.html">Lab: Configuring External Access and Testing Client Connectivity</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-implementing-basic-security-encryption-rbac.html">Lab: Implementing Basic Security (Encryption, RBAC)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-deploying-an-ha-broker-cluster.html">Lab: Deploying an HA Broker Cluster</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-monitoring-with-the-management-console.html">Lab: Monitoring with the Management Console</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-developing-and-testing-core-protocol-and-amqp-clients.html">Lab: Developing and Testing Core Protocol and AMQP Clients</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">AMQ Broker on OpenShift: Deployment and Management</span>
    <span class="version">1.0.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">AMQ Broker on OpenShift: Deployment and Management</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1.0.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">AMQ Broker on OpenShift: Deployment and Management</a></li>
    <li><a href="enabling-external-access-to-brokers-deployed-on-openshift.html">Enabling External Access to Brokers Deployed on OpenShift</a></li>
    <li><a href="configuring-client-connections-for-external-access.html">Configuring Client Connections for External Access</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Configuring Client Connections for External Access</h1>
<h1 id="_configuring_client_connections_for_external_access" class="sect0"><a class="anchor" href="#_configuring_client_connections_for_external_access"></a>Configuring Client Connections for External Access</h1>
<div class="paragraph">
<p>When deploying Red Hat AMQ Broker on OpenShift, ensuring that external clients can reliably and securely connect to the broker instances is a critical aspect of your messaging architecture. This involves understanding OpenShift&#8217;s networking constructs and configuring client-side connection parameters appropriately.</p>
</div>
<div class="sect1">
<h2 id="_openshift_networking_for_external_access"><a class="anchor" href="#_openshift_networking_for_external_access"></a>OpenShift Networking for External Access</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Before configuring clients, it&#8217;s essential to understand how AMQ Broker instances are exposed outside the OpenShift cluster. The primary mechanisms are:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>OpenShift Routes</strong>: The most common and recommended way to expose services. Routes provide a hostname and often handle TLS termination, directing external traffic to the appropriate service within the cluster.</p>
</li>
<li>
<p><strong>NodePorts</strong>: An alternative that exposes a service on a static port on each node&#8217;s IP address. Clients connect directly to an OpenShift node&#8217;s IP and the specified NodePort.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For this topic, we will primarily focus on connecting clients via OpenShift Routes, as it aligns with common production deployment patterns.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_client_connection_url_structure"><a class="anchor" href="#_client_connection_url_structure"></a>Client Connection URL Structure</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Regardless of the protocol, the fundamental goal for an external client is to specify a connection URL that correctly points to the AMQ Broker instance exposed via its OpenShift Route.</p>
</div>
<div class="paragraph">
<p>A typical connection URL will include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The protocol (e.g., <code>tcp://</code> for Core, <code>ssl://</code> for OpenWire, <code>amqp://</code> for AMQP).</p>
</li>
<li>
<p>The fully qualified domain name (FQDN) of the OpenShift Route.</p>
</li>
<li>
<p>The port number (explicitly required for non-HTTP connections, e.g., <code>443</code> for TLS-enabled routes).</p>
</li>
<li>
<p>Optional query parameters for advanced configurations like HA, reconnection, or TLS settings.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When connecting to a broker exposed via an OpenShift Route, the client <strong>must</strong> explicitly specify the port number as part of the connection URL, even for standard ports like <code>443</code>. For example: <code>my-broker-route.apps.cluster.domain:443</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuring_core_protocol_clients_for_external_access"><a class="anchor" href="#_configuring_core_protocol_clients_for_external_access"></a>Configuring Core Protocol Clients for External Access</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat AMQ Broker&#8217;s Core protocol is highly performant and offers robust features. Configuring external Core clients requires careful consideration of load balancing, failover, and TLS.</p>
</div>
<div class="sect2">
<h3 id="_preventing_external_load_balancing_with_usetopologyforloadbalancing"><a class="anchor" href="#_preventing_external_load_balancing_with_usetopologyforloadbalancing"></a>Preventing External Load Balancing with <code>useTopologyForLoadBalancing</code></h3>
<div class="paragraph">
<p>By default, an internal Core client can receive topology information from the broker to intelligently load balance connections across a broker cluster. However, external clients cannot reliably use this topology information as their network perspective differs from the internal cluster.</p>
</div>
<div class="paragraph">
<p>To prevent an external Core client from attempting to use potentially misleading topology information, you <strong>must</strong> set the <code>useTopologyForLoadBalancing=false</code> key in the client&#8217;s connection URL. If this key is not set, or set to <code>true</code>, it may result in <code>DEBUG</code> log messages from the client as it tries to process irrelevant topology data.</p>
</div>
<div class="paragraph">
<p>For example, to connect to a specific broker pod&#8217;s route without external load balancing:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">tcp://my-broker-deployment-0-svc-rte-my-openshift-project.my-openshift-domain:443?useTopologyForLoadBalancing=false</code></pre>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_tls_for_core_protocol_clients"><a class="anchor" href="#_configuring_tls_for_core_protocol_clients"></a>Configuring TLS for Core Protocol Clients</h3>
<div class="paragraph">
<p>Securing client-broker communication with TLS is a best practice. Core protocol clients support both one-way and two-way TLS authentication.</p>
</div>
<div class="sect3">
<h4 id="_one_way_tls_client_trusts_broker"><a class="anchor" href="#_one_way_tls_client_trusts_broker"></a>One-Way TLS (Client Trusts Broker)</h4>
<div class="paragraph">
<p>In one-way TLS, the client verifies the broker&#8217;s identity using a trust store containing the broker&#8217;s certificate or the Certificate Authority (CA) certificate that signed it.</p>
</div>
<div class="paragraph">
<p>To configure one-way TLS for a Core client:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Enable SSL in the connection URL: <code>sslEnabled=true</code>.</p>
</li>
<li>
<p>Specify the path to the client&#8217;s trust store: <code>transport.trustStoreLocation=&lt;path_to_truststore&gt;</code>.</p>
</li>
<li>
<p>Provide the trust store password: <code>transport.trustStorePassword=&lt;password&gt;</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">tcp://my-broker-deployment-0-svc-rte-my-openshift-project.my-openshift-domain:443? \
useTopologyForLoadBalancing=false&amp;sslEnabled=true&amp; \
transport.trustStoreLocation=~/client.ts&amp;transport.trustStorePassword=myTrustStorePassword</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_two_way_tls_mutual_authentication"><a class="anchor" href="#_two_way_tls_mutual_authentication"></a>Two-Way TLS (Mutual Authentication)</h4>
<div class="paragraph">
<p>Two-way TLS adds an extra layer of security by requiring the broker to also verify the client&#8217;s identity. This means the client must present its own certificate to the broker.</p>
</div>
<div class="paragraph">
<p>To configure two-way TLS for a Core client, in <strong>addition</strong> to the one-way TLS settings:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Specify the path to the client&#8217;s key store: <code>keyStorePath=&lt;path_to_keystore&gt;</code>.</p>
</li>
<li>
<p>Provide the key store password: <code>keyStorePassword=&lt;password&gt;</code>.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">tcp://my-broker-deployment-0-svc-rte-my-openshift-project.my-openshift-domain:443? \
useTopologyForLoadBalancing=false&amp;sslEnabled=true&amp; \
keyStorePath=~/client.ks&amp;keyStorePassword=myKeyStorePassword&amp; \
transport.trustStoreLocation=~/client.ts&amp;transport.trustStorePassword=myTrustStorePassword</code></pre>
</div>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_configuring_failover_for_core_protocol_clients"><a class="anchor" href="#_configuring_failover_for_core_protocol_clients"></a>Configuring Failover for Core Protocol Clients</h3>
<div class="paragraph">
<p>For high availability, clients should be configured to automatically fail over to a backup broker if the currently connected live broker becomes unavailable. This is achieved using the <code>ha=true</code> query parameter.</p>
</div>
<div class="paragraph">
<p>The <code>host:port</code> part of the connection URL <strong>only</strong> serves for the initial connection. When <code>ha=true</code> is set, the client receives connection information for the backup broker from the live broker and manages subsequent failover itself.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Single initial connection point</strong>:</p>
<div class="literalblock">
<div class="content">
<pre>[source,text]
----
connectionFactory.ConnectionFactory=tcp://broker-initial-host:61616?ha=true&amp;reconnectAttempts=3
----</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>In this case, `broker-initial-host:61616` should point to the route of a master broker that is properly configured with a backup.</pre>
</div>
</div>
</li>
<li>
<p><strong>Multiple initial connection points (for initial connection resilience)</strong>:</p>
<div class="literalblock">
<div class="content">
<pre>You can specify multiple `host:port` entries for the initial connection, which the client will try in order until it establishes a connection.</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>[source,text]
----
connectionFactory.ConnectionFactory=(tcp://broker1-route:61616,tcp://broker2-route:61616)?ha=true&amp;reconnectAttempts=3
----</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Here, `broker1-route:61616` and `broker2-route:61616` would be the routes to different broker pods or an HAProxy/load balancer in front of them, for establishing the initial connection.</pre>
</div>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuring_openwire_protocol_clients_for_external_access"><a class="anchor" href="#_configuring_openwire_protocol_clients_for_external_access"></a>Configuring OpenWire Protocol Clients for External Access</h2>
<div class="sectionbody">
<div class="paragraph">
<p>OpenWire is another widely used protocol, especially for compatibility with Apache ActiveMQ. External OpenWire clients also need specific configurations for TLS.</p>
</div>
<div class="sect2">
<h3 id="_configuring_tls_for_openwire_protocol_clients"><a class="anchor" href="#_configuring_tls_for_openwire_protocol_clients"></a>Configuring TLS for OpenWire Protocol Clients</h3>
<div class="paragraph">
<p>OpenWire clients typically use Java system properties (JVM flags) to configure trust stores and key stores for TLS.</p>
</div>
<div class="sect3">
<h4 id="_one_way_tls_client_trusts_broker_2"><a class="anchor" href="#_one_way_tls_client_trusts_broker_2"></a>One-Way TLS (Client Trusts Broker)</h4>
<div class="paragraph">
<p>To enable one-way TLS for an OpenWire client:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Use the <code>ssl://</code> prefix in the connection URL.</p>
</li>
<li>
<p>Specify the path to the client&#8217;s trust store and its password using JVM flags.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">ssl://my-broker-deployment-0-svc-rte-my-openshift-project.my-openshift-domain:443"
# Also, specify the following JVM flags when running the client application:
-Djavax.net.ssl.trustStore=~/client.ts -Djavax.net.ssl.trustStorePassword=myTrustStorePassword</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_two_way_tls_mutual_authentication_2"><a class="anchor" href="#_two_way_tls_mutual_authentication_2"></a>Two-Way TLS (Mutual Authentication)</h4>
<div class="paragraph">
<p>For two-way TLS with OpenWire clients, in <strong>addition</strong> to the one-way TLS settings, you must specify the client&#8217;s key store details via JVM flags.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">ssl://my-broker-deployment-0-svc-rte-my-openshift-project.my-openshift-domain:443"
# Also, specify the following JVM flags when running the client application:
-Djavax.net.ssl.keyStore=~/client.ks -Djavax.net.ssl.keyStorePassword=myKeyStorePassword \
-Djavax.net.ssl.trustStore=~/client.ts -Djavax.net.ssl.trustStorePassword=myTrustStorePassword</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_alternative_connecting_via_nodeport"><a class="anchor" href="#_alternative_connecting_via_nodeport"></a>Alternative: Connecting via NodePort</h2>
<div class="sectionbody">
<div class="paragraph">
<p>While OpenShift Routes are generally preferred, you can also expose AMQ Broker services using NodePorts. This method involves directly connecting to an OpenShift node&#8217;s IP address on a specific port.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Configure NodePort on Broker</strong>: Define a <code>NodePort</code> service that maps to one of the broker&#8217;s protocol-specific acceptor ports. NodePorts typically fall within the range 30000 to 32767.</p>
</li>
<li>
<p><strong>Client Connection</strong>: Clients connect using the IP address of any OpenShift node and the assigned NodePort.</p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-text hljs" data-lang="text">tcp://&lt;openshift_node_ip&gt;:&lt;node_port&gt;</code></pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Using NodePorts for external access can introduce security and management complexities compared to OpenShift Routes, as it bypasses the ingress capabilities and often requires direct network access to worker nodes. It&#8217;s generally recommended for specific use cases or development environments.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hands_on_lab_connecting_an_external_core_protocol_client"><a class="anchor" href="#_hands_on_lab_connecting_an_external_core_protocol_client"></a>Hands-on Lab: Connecting an External Core Protocol Client</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This lab demonstrates how to connect a simple Java-based Core protocol client to an AMQ Broker instance deployed on OpenShift and exposed via a Route.</p>
</div>
<div class="sect2">
<h3 id="_prerequisites"><a class="anchor" href="#_prerequisites"></a>Prerequisites</h3>
<div class="ulist">
<ul>
<li>
<p>An OpenShift cluster with the Red Hat AMQ Broker Operator installed.</p>
</li>
<li>
<p>An AMQ Broker instance deployed on OpenShift, exposed via an insecure (non-TLS) Route.</p>
</li>
<li>
<p>You can create a basic broker using a command similar to:
```bash
oc apply -f - &lt;&lt;EOF
apiVersion: broker.amq.io/v1beta1
kind: ActiveMQArtemis
metadata:
  name: my-broker
spec:
  deploymentPlan:
    size: 1
    image: registry.redhat.io/amq7/amq-broker:7.11
  externalConfigs:
    console:
      expose: true
    acceptors:</p>
<div class="ulist">
<ul>
<li>
<p>name: my-acceptor
        port: 61616
        protocols: CORE,AMQP,MQTT,STOMP,HORNETQ,OPENWIRE
        expose: true
EOF
<code>`</code></p>
</li>
</ul>
</div>
</li>
<li>
<p>Verify the Route for the <code>my-acceptor</code> (e.g., <code>my-broker-my-acceptor-0-svc-rte-my-openshift-project.my-openshift-domain</code>) is created and accessible.</p>
</li>
<li>
<p>Java Development Kit (JDK) 11 or newer installed on your local machine.</p>
</li>
<li>
<p>Maven installed on your local machine.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_activity_steps"><a class="anchor" href="#_activity_steps"></a>Activity Steps</h3>
<div class="sect3">
<h4 id="_1_get_the_broker_route_hostname"><a class="anchor" href="#_1_get_the_broker_route_hostname"></a>1. Get the Broker Route Hostname</h4>
<div class="paragraph">
<p>Identify the hostname of the external route pointing to your broker&#8217;s <code>my-acceptor</code>.</p>
</div>
<div class="paragraph">
<div class="title">Execute the following command on your OpenShift CLI:</div>
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">OCP_PROJECT=$(oc project -q)
BROKER_ROUTE=$(oc get route my-broker-my-acceptor -o jsonpath='{.spec.host}')
echo "AMQ Broker Route: ${BROKER_ROUTE}"</code></pre>
</div>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre>AMQ Broker Route: my-broker-my-acceptor-my-openshift-project.apps.your-openshift-domain.com</pre>
</div>
</div>
<div class="paragraph">
<p>+
Make a note of this hostname; you will use it in your client application.</p>
</div>
</div>
<div class="sect3">
<h4 id="_2_create_a_maven_project_for_the_client"><a class="anchor" href="#_2_create_a_maven_project_for_the_client"></a>2. Create a Maven Project for the Client</h4>
<div class="paragraph">
<p>Create a new Maven project for your Java Core client.</p>
</div>
<div class="paragraph">
<div class="title">On your local machine, create a new directory for your project:</div>
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mkdir amq-external-client &amp;&amp; cd amq-external-client</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Create a <code>pom.xml</code> file with the necessary dependencies for the AMQ Broker Core client:</div>
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-xml hljs" data-lang="xml">&lt;project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd"&gt;
  &lt;modelVersion&gt;4.0.0&lt;/modelVersion&gt;

  &lt;groupId&gt;com.redhat.amq&lt;/groupId&gt;
  &lt;artifactId&gt;amq-external-client&lt;/artifactId&gt;
  &lt;version&gt;1.0.0-SNAPSHOT&lt;/version&gt;
  &lt;packaging&gt;jar&lt;/packaging&gt;

  &lt;name&gt;amq-external-client&lt;/name&gt;

  &lt;properties&gt;
    &lt;project.build.sourceEncoding&gt;UTF-8&lt;/project.build.sourceEncoding&gt;
    &lt;java.version&gt;11&lt;/java.version&gt;
    &lt;activemq.version&gt;2.31.0.redhat-00001&lt;/activemq.version&gt;
    &lt;maven.compiler.source&gt;${java.version}&lt;/maven.compiler.source&gt;
    &lt;maven.compiler.target&gt;${java.version}&lt;/maven.compiler.target&gt;
  &lt;/properties&gt;

  &lt;repositories&gt;
    &lt;repository&gt;
      &lt;id&gt;redhat-ga&lt;/id&gt;
      &lt;url&gt;https://maven.repository.redhat.com/ga/&lt;/url&gt;
    &lt;/repository&gt;
  &lt;/repositories&gt;

  &lt;dependencies&gt;
    &lt;dependency&gt;
      &lt;groupId&gt;org.apache.activemq&lt;/groupId&gt;
      &lt;artifactId&gt;artemis-jms-client-all&lt;/artifactId&gt;
      &lt;version&gt;${activemq.version}&lt;/version&gt;
    &lt;/dependency&gt;
  &lt;/dependencies&gt;

  &lt;build&gt;
    &lt;plugins&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
        &lt;artifactId&gt;maven-compiler-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.8.1&lt;/version&gt;
        &lt;configuration&gt;
          &lt;source&gt;${java.version}&lt;/source&gt;
          &lt;target&gt;${java.version}&lt;/target&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
      &lt;plugin&gt;
        &lt;groupId&gt;org.codehaus.mojo&lt;/groupId&gt;
        &lt;artifactId&gt;exec-maven-plugin&lt;/artifactId&gt;
        &lt;version&gt;3.0.0&lt;/version&gt;
        &lt;executions&gt;
          &lt;execution&gt;
            &lt;goals&gt;
              &lt;goal&gt;java&lt;/goal&gt;
            &lt;/goals&gt;
          &lt;/execution&gt;
        &lt;/executions&gt;
        &lt;configuration&gt;
          &lt;mainClass&gt;com.redhat.amq.client.ProducerClient&lt;/mainClass&gt;
        &lt;/configuration&gt;
      &lt;/plugin&gt;
    &lt;/plugins&gt;
  &lt;/build&gt;
&lt;/project&gt;</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_3_create_the_java_producer_client"><a class="anchor" href="#_3_create_the_java_producer_client"></a>3. Create the Java Producer Client</h4>
<div class="paragraph">
<p>Create a simple Java class that acts as a message producer using the Core protocol.</p>
</div>
<div class="paragraph">
<div class="title">In the <code>amq-external-client</code> directory, create the <code>src/main/java/com/redhat/amq/client/ProducerClient.java</code> file:</div>
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">package com.redhat.amq.client;

import org.apache.activemq.artemis.jms.client.ActiveMQConnectionFactory;

import javax.jms.Connection;
import javax.jms.Session;
import javax.jms.Queue;
import javax.jms.MessageProducer;
import javax.jms.TextMessage;
import java.util.logging.Logger;

public class ProducerClient {

    private static final Logger LOGGER = Logger.getLogger(ProducerClient.class.getName());
    private static final String BROKER_URL_ENV = "BROKER_URL";
    private static final String QUEUE_NAME = "myQueue";

    public static void main(String[] args) throws Exception {
        String brokerUrl = System.getenv(BROKER_URL_ENV);
        if (brokerUrl == null || brokerUrl.isEmpty()) {
            LOGGER.severe("BROKER_URL environment variable not set. Please set it to your broker's route.");
            LOGGER.info("Example: export BROKER_URL='tcp://my-broker-my-acceptor-my-openshift-project.apps.your-openshift-domain.com:61616'");
            return;
        }

        Connection connection = null;
        Session session = null;
        try {
            // Use ActiveMQConnectionFactory for Core Protocol
            ActiveMQConnectionFactory connectionFactory = new ActiveMQConnectionFactory(brokerUrl);
            LOGGER.info("Attempting to connect to broker at: " + brokerUrl);
            connection = connectionFactory.createConnection();
            connection.start(); // Start the connection

            session = connection.createSession(false, Session.AUTO_ACKNOWLEDGE);
            Queue queue = session.createQueue(QUEUE_NAME);
            MessageProducer producer = session.createProducer(queue);

            for (int i = 0; i &lt; 5; i++) {
                TextMessage message = session.createTextMessage("Hello from external client! Message #" + (i + 1));
                producer.send(message);
                LOGGER.info("Sent message: " + message.getText());
                Thread.sleep(1000); // Simulate some work
            }

            LOGGER.info("Messages sent successfully.");

        } catch (Exception e) {
            LOGGER.severe("Error connecting to or sending messages to the broker: " + e.getMessage());
            e.printStackTrace();
        } finally {
            if (session != null) {
                session.close();
            }
            if (connection != null) {
                connection.close();
            }
        }
    }
}</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_4_compile_and_run_the_client"><a class="anchor" href="#_4_compile_and_run_the_client"></a>4. Compile and Run the Client</h4>
<div class="paragraph">
<p>Now, compile and run your client, providing the broker&#8217;s route hostname as an environment variable.</p>
</div>
<div class="paragraph">
<div class="title">Compile the Java client:</div>
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mvn clean install</code></pre>
</div>
</div>
<div class="paragraph">
<div class="title">Run the client, replacing <code>YOUR_BROKER_ROUTE_HOSTNAME</code> with the actual hostname you obtained in Step 1. Remember to include the port <code>61616</code>.</div>
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">export BROKER_URL="tcp://YOUR_BROKER_ROUTE_HOSTNAME:61616"
mvn exec:java</code></pre>
</div>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="listingblock">
<div class="content">
<pre>[INFO] Scanning for projects...
[INFO]
[INFO] -------------------&lt; com.redhat.amq:amq-external-client &gt;--------------------
[INFO] Building amq-external-client 1.0.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO]
[INFO] --- exec-maven-plugin:3.0.0:java (default-cli) @ amq-external-client ---
Sep 05, 2023 10:30:00 AM com.redhat.amq.client.ProducerClient main
INFO: Attempting to connect to broker at: tcp://my-broker-my-acceptor-my-openshift-project.apps.your-openshift-domain.com:61616
Sep 05, 2023 10:30:02 AM com.redhat.amq.client.ProducerClient main
INFO: Sent message: Hello from external client! Message #1
Sep 05, 2023 10:30:03 AM com.redhat.amq.client.ProducerClient main
INFO: Sent message: Hello from external client! Message #2
Sep 05, 2023 10:30:04 AM com.redhat.amq.client.ProducerClient main
INFO: Sent message: Hello from external client! Message #3
Sep 05, 2023 10:30:05 AM com.redhat.amq.client.ProducerClient main
INFO: Sent message: Hello from external client! Message #4
Sep 05, 2023 10:30:06 AM com.redhat.amq.client.ProducerClient main
INFO: Sent message: Hello from external client! Message #5
Sep 05, 2023 10:30:06 AM com.redhat.amq.client.ProducerClient main
INFO: Messages sent successfully.
[INFO] ------------------------------------------------------------------------
[INFO] BUILD SUCCESS
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  7.846 s
[INFO] Finished at: 2023-09-05T10:30:06+00:00
[INFO] ------------------------------------------------------------------------</pre>
</div>
</div>
<div class="paragraph">
<p>+
You should see output indicating that messages were successfully sent.</p>
</div>
</div>
<div class="sect3">
<h4 id="_5_verify_messages_in_hawtio_console_optional"><a class="anchor" href="#_5_verify_messages_in_hawtio_console_optional"></a>5. Verify Messages in Hawtio Console (Optional)</h4>
<div class="paragraph">
<p>You can verify that the messages were received by the broker by accessing the Hawtio management console.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Get the Hawtio console route:
+
[source,bash]
----
oc get route my-broker-console -o jsonpath='{.spec.host}'
----</p>
</li>
<li>
<p>Open the Hawtio console URL in your browser.</p>
</li>
<li>
<p>Navigate to the <code>Connections</code> &#8594; <code>Queues</code> tab.</p>
</li>
<li>
<p>Find <code>myQueue</code> and observe the <code>Message Count</code> increasing, or browse the messages to see the content.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>This lab demonstrates a basic external client connection. For production scenarios, always consider implementing TLS and robust failover mechanisms as described in the preceding sections.</p>
</div>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="exposing-broker-listeners-via-openshift-routes.html">Exposing Broker Listeners via OpenShift Routes</a></span>
  <span class="next"><a href="security-implications-and-best-practices-for-external-access.html">Security Implications and Best Practices for External Access</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
