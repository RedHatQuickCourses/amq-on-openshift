<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Integrating External Identity Providers (IDP) :: AMQ Broker on OpenShift: Deployment and Management</title>
    <link rel="prev" href="integrating-with-openshift-authentication-mechanisms.html">
    <link rel="next" href="overview-of-external-idp-integration-eg-ldap-keycloak.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">AMQ Broker on OpenShift: Deployment and Management</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/REPLACEREPONAME/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="amq-on-openshift" data-version="1.0.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">AMQ Broker on OpenShift: Deployment and Management</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../overview-of-message-oriented-middleware/overview-of-message-oriented-middleware.html">Overview of Message-Oriented Middleware</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview-of-message-oriented-middleware/introduction-to-message-oriented-middleware-mom.html">Introduction to Message-Oriented Middleware (MOM)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview-of-message-oriented-middleware/benefits-and-use-cases-of-asynchronous-messaging.html">Benefits and Use Cases of Asynchronous Messaging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview-of-message-oriented-middleware/core-concepts-producers-consumers-queues-topics.html">Core Concepts: Producers, Consumers, Queues, Topics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview-of-message-oriented-middleware/common-messaging-patterns-point-to-point-publishsubscribe.html">Common Messaging Patterns (Point-to-Point, Publish/Subscribe)</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../amq-broker-overview/amq-broker-overview.html">AMQ Broker Overview</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/introduction-to-red-hat-amq-broker.html">Introduction to Red Hat AMQ Broker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/foundations-in-apache-activemq-artemis.html">Foundations in Apache ActiveMQ Artemis</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/key-features-and-capabilities.html">Key Features and Capabilities</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/supported-messaging-protocols-jms-amqp-mqtt-stomp-openwire.html">Supported Messaging Protocols (JMS, AMQP, MQTT, STOMP, OpenWire)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/amq-broker-architecture.html">AMQ Broker Architecture</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/deploying-amq-broker-on-openshift.html">Deploying AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/openshift-container-platform-fundamentals-for-amq-broker.html">OpenShift Container Platform Fundamentals for AMQ Broker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/introduction-to-the-amq-broker-operator.html">Introduction to the AMQ Broker Operator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/installing-the-amq-broker-operator-via-cli-or-operatorhub.html">Installing the AMQ Broker Operator via CLI or OperatorHub</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/understanding-amq-broker-custom-resource-definitions-crds.html">Understanding AMQ Broker Custom Resource Definitions (CRDs)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/creating-and-managing-broker-instances-with-custom-resources-crs.html">Creating and Managing Broker Instances with Custom Resources (CRs)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/monitoring-initial-broker-deployment.html">Monitoring Initial Broker Deployment</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/scaling-amq-broker-on-openshift.html">Scaling AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/concepts-of-horizontal-and-vertical-scaling.html">Concepts of Horizontal and Vertical Scaling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/scaling-broker-pods-and-replicas.html">Scaling Broker Pods and Replicas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/adjusting-resource-allocations-cpu-memory-for-broker-pods.html">Adjusting Resource Allocations (CPU, Memory) for Broker Pods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/performance-considerations-for-scaling.html">Performance Considerations for Scaling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/best-practices-for-scaling-in-openshift.html">Best Practices for Scaling in OpenShift</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="securing-amq-broker-on-openshift.html">Securing AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="encrypting-connections.html">Encrypting Connections</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configuring-ssltls-for-client-broker-communication.html">Configuring SSL/TLS for Client-Broker Communication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="managing-certificates-and-trust-stores-on-openshift.html">Managing Certificates and Trust Stores on OpenShift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="enabling-secure-listeners.html">Enabling Secure Listeners</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="enabling-rbac-role-based-access-control.html">Enabling RBAC (Role-Based Access Control)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="defining-users-roles-and-permissions-in-amq-broker.html">Defining Users, Roles, and Permissions in AMQ Broker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="integrating-with-openshift-authentication-mechanisms.html">Integrating with OpenShift Authentication Mechanisms</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="integrating-external-identity-providers-idp.html">Integrating External Identity Providers (IDP)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="overview-of-external-idp-integration-eg-ldap-keycloak.html">Overview of External IDP Integration (e.g., LDAP, Keycloak)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configuring-amq-broker-for-external-idp-authentication.html">Configuring AMQ Broker for External IDP Authentication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mapping-external-roles-to-broker-roles.html">Mapping External Roles to Broker Roles</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/amq-broker-high-availability-on-openshift.html">AMQ Broker High Availability on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/introduction-to-high-availability-ha-concepts.html">Introduction to High Availability (HA) Concepts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/broker-clustering-strategies-shared-store-vs-replicated-live-backup.html">Broker Clustering Strategies: Shared Store vs. Replicated Live-Backup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/deploying-and-configuring-an-ha-broker-pair.html">Deploying and Configuring an HA Broker Pair</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/understanding-failover-and-recovery-mechanisms.html">Understanding Failover and Recovery Mechanisms</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/persistence-and-data-replication-for-ha.html">Persistence and Data Replication for HA</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/different-message-stores-for-amq-broker-on-openshift.html">Different Message Stores for AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/overview-of-message-store-options.html">Overview of Message Store Options</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/file-based-message-store-configuration.html">File-Based Message Store Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/jdbc-message-store-integration-with-external-databases.html">JDBC Message Store Integration with External Databases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/journal-vs-paging-for-message-persistence.html">Journal vs. Paging for Message Persistence</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/choosing-the-appropriate-message-store-strategy.html">Choosing the Appropriate Message Store Strategy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/openshift-storage-considerations-persistent-volumes.html">OpenShift Storage Considerations (Persistent Volumes)</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/accessing-management-console-for-amq-broker-on-openshift.html">Accessing Management Console for AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/introduction-to-the-hawtio-management-console.html">Introduction to the Hawtio Management Console</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/exposing-the-console-via-openshift-routes.html">Exposing the Console via OpenShift Routes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/authentication-and-authorization-for-console-access.html">Authentication and Authorization for Console Access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/monitoring-broker-metrics-queues-and-topics.html">Monitoring Broker Metrics, Queues, and Topics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/performing-administrative-tasks-through-the-console.html">Performing Administrative Tasks through the Console</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../enabling-external-access-to-brokers-deployed-on-openshift/enabling-external-access-to-brokers-deployed-on-openshift.html">Enabling External Access to Brokers Deployed on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enabling-external-access-to-brokers-deployed-on-openshift/openshift-networking-concepts-services-routes-ingress.html">OpenShift Networking Concepts: Services, Routes, Ingress</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enabling-external-access-to-brokers-deployed-on-openshift/exposing-broker-listeners-via-openshift-routes.html">Exposing Broker Listeners via OpenShift Routes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enabling-external-access-to-brokers-deployed-on-openshift/configuring-client-connections-for-external-access.html">Configuring Client Connections for External Access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enabling-external-access-to-brokers-deployed-on-openshift/security-implications-and-best-practices-for-external-access.html">Security Implications and Best Practices for External Access</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../core-protocol-client-examples/core-protocol-client-examples.html">Core Protocol Client Examples</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/introduction-to-amq-core-protocol.html">Introduction to AMQ Core Protocol</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/setting-up-a-core-protocol-client-development-environment.html">Setting Up a Core Protocol Client Development Environment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/developing-producers-and-consumers-with-java-core-protocol.html">Developing Producers and Consumers with Java Core Protocol</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/implementing-point-to-point-messaging.html">Implementing Point-to-Point Messaging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/implementing-publishsubscribe-messaging.html">Implementing Publish/Subscribe Messaging</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../amqp-protocol-client-examples/amqp-protocol-client-examples.html">AMQP Protocol Client Examples</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/introduction-to-amqp-10-standard.html">Introduction to AMQP 1.0 Standard</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/setting-up-an-amqp-client-development-environment-eg-qpid-jms.html">Setting Up an AMQP Client Development Environment (e.g., Qpid JMS)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/developing-producers-and-consumers-with-amqp-clients-eg-java-python.html">Developing Producers and Consumers with AMQP Clients (e.g., Java, Python)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/connecting-to-amq-broker-using-amqp.html">Connecting to AMQ Broker using AMQP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/exploring-advanced-amqp-features.html">Exploring Advanced AMQP Features</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/hands-on-lab-deploying-and-managing-amq-broker.html">Hands-on Lab: Deploying and Managing AMQ Broker</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-deploying-a-basic-amq-broker-instance.html">Lab: Deploying a Basic AMQ Broker Instance</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-configuring-external-access-and-testing-client-connectivity.html">Lab: Configuring External Access and Testing Client Connectivity</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-implementing-basic-security-encryption-rbac.html">Lab: Implementing Basic Security (Encryption, RBAC)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-deploying-an-ha-broker-cluster.html">Lab: Deploying an HA Broker Cluster</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-monitoring-with-the-management-console.html">Lab: Monitoring with the Management Console</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-developing-and-testing-core-protocol-and-amqp-clients.html">Lab: Developing and Testing Core Protocol and AMQP Clients</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">AMQ Broker on OpenShift: Deployment and Management</span>
    <span class="version">1.0.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">AMQ Broker on OpenShift: Deployment and Management</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1.0.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">AMQ Broker on OpenShift: Deployment and Management</a></li>
    <li><a href="securing-amq-broker-on-openshift.html">Securing AMQ Broker on OpenShift</a></li>
    <li><a href="integrating-external-identity-providers-idp.html">Integrating External Identity Providers (IDP)</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Integrating External Identity Providers (IDP)</h1>
<h1 id="_integrating_external_identity_providers_idp" class="sect0"><a class="anchor" href="#_integrating_external_identity_providers_idp"></a>Integrating External Identity Providers (IDP)</h1>
<div class="paragraph">
<p>This section delves into integrating Red Hat AMQ Broker on OpenShift with external Identity Providers (IDP). This capability is crucial for organizations that need to centralize user management and leverage existing authentication systems for their messaging infrastructure.</p>
</div>
<div class="sect1">
<h2 id="_overview_of_external_idp_integration"><a class="anchor" href="#_overview_of_external_idp_integration"></a>Overview of External IDP Integration</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Integrating with an external Identity Provider (IDP) allows AMQ Broker to delegate user authentication to a trusted external system, such as LDAP, Active Directory, or an OAuth 2.0/OpenID Connect provider like Keycloak. This approach offers several significant benefits:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Centralized User Management</strong>: Users and their credentials are managed in a single, authoritative source, simplifying administration and reducing the potential for inconsistencies.</p>
</li>
<li>
<p><strong>Enhanced Security</strong>: Leverages established, robust authentication mechanisms and policies enforced by the IDP, often including multi-factor authentication (MFA) capabilities.</p>
</li>
<li>
<p><strong>Improved User Experience (SSO)</strong>: Enables single sign-on (SSO) capabilities, allowing users to access AMQ Broker with credentials they already use for other enterprise applications.</p>
</li>
<li>
<p><strong>Compliance</strong>: Helps meet regulatory and organizational compliance requirements for user authentication and authorization by consolidating identity management.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>When AMQ Broker integrates with an external IDP, it doesn&#8217;t store user credentials directly. Instead, when a client attempts to connect, AMQ Broker queries the IDP to verify the user&#8217;s identity. Upon successful authentication, AMQ Broker can then use information (such as groups or roles) provided by the IDP to authorize the client&#8217;s access to queues, topics, and other broker resources based on its internal Role-Based Access Control (RBAC) system.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_common_external_idp_integration_strategies"><a class="anchor" href="#_common_external_idp_integration_strategies"></a>Common External IDP Integration Strategies</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Red Hat AMQ Broker, being based on Apache ActiveMQ Artemis, supports various mechanisms for integrating with external identity providers. The most common strategies in enterprise environments include:</p>
</div>
<div class="sect2">
<h3 id="_ldapactive_directory_integration"><a class="anchor" href="#_ldapactive_directory_integration"></a>LDAP/Active Directory Integration</h3>
<div class="paragraph">
<p>Lightweight Directory Access Protocol (LDAP) and its Microsoft implementation, Active Directory (AD), are foundational for enterprise identity management. AMQ Broker can be configured to authenticate users against an LDAP server.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Authentication Flow</strong>: When a client attempts to connect to the broker, AMQ Broker forwards the username and password to the configured LDAP server. The LDAP server verifies these credentials. If the authentication is successful, AMQ Broker trusts the identity. For secure communication, the connection to the LDAP server should be secured using TLS/SSL (LDAPS).</p>
</li>
<li>
<p><strong>Role/Group Mapping</strong>: LDAP directories typically store user group memberships. AMQ Broker can be configured to query these LDAP groups and map them to internal roles, defining what resources users in those groups can access. This is achieved by specifying parameters such as the LDAP server URL, bind DN and password (if AMQ Broker needs to bind to perform searches), user search base, group search base, user filters, and group filters in the broker&#8217;s configuration.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_openid_connect_oidc_oauth_2_0_integration_e_g_keycloak"><a class="anchor" href="#_openid_connect_oidc_oauth_2_0_integration_e_g_keycloak"></a>OpenID Connect (OIDC) / OAuth 2.0 Integration (e.g., Keycloak)</h3>
<div class="paragraph">
<p>For modern cloud-native and web-based environments, integrating with OpenID Connect (OIDC) or OAuth 2.0 providers like Red Hat Keycloak is a common and robust pattern. This enables secure token-based authentication.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Authentication Flow</strong>: In a typical OIDC flow, a client application (or the user interacting with it) first authenticates with the OIDC provider (e.g., Keycloak) to obtain an access token (typically a JSON Web Token - JWT). This token is then presented by the client to AMQ Broker. AMQ Broker validates the token by:</p>
<div class="ulist">
<ul>
<li>
<p>Checking its signature using the OIDC provider&#8217;s public keys.</p>
</li>
<li>
<p>Verifying its expiration time and other claims (e.g., issuer, audience).</p>
</li>
<li>
<p>Extracting user identity and role information embedded within the token&#8217;s claims.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Role/Group Mapping</strong>: OIDC providers like Keycloak can assign roles or group memberships to users within specific realms. These roles are typically embedded in the JWT access token as claims (e.g., <code>realm_access.roles</code>, <code>groups</code>). AMQ Broker is configured to extract these specific claims and map their values to its internal roles for authorization purposes.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_configuring_amq_broker_for_external_idp_authentication_on_openshift"><a class="anchor" href="#_configuring_amq_broker_for_external_idp_authentication_on_openshift"></a>Configuring AMQ Broker for External IDP Authentication on OpenShift</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Integrating an external IDP with AMQ Broker on OpenShift primarily involves configuring the <code>ActiveMQArtemis</code> Custom Resource (CR) to specify the connection details and authentication mechanism. The AMQ Broker Operator manages the broker instances and simplifies this configuration by allowing you to define these settings directly within the broker&#8217;s CR.</p>
</div>
<div class="paragraph">
<p>While specific CR fields vary based on the IDP type (e.g., LDAP configuration parameters differ from OIDC), the general principles are consistent:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Define Connection Details</strong>: Specify the IDP&#8217;s network endpoint (e.g., LDAP server URL, Keycloak issuer URL).</p>
</li>
<li>
<p><strong>Provide Credentials</strong>: If the broker needs to authenticate itself to the IDP (e.g., an LDAP bind DN and password for directory searches, or an OAuth 2.0 client ID and secret for token validation), these credentials must be securely provided.</p>
</li>
<li>
<p><strong>Configure Role/Group Mapping</strong>: Define how roles or groups obtained from the IDP translate into AMQ Broker&#8217;s internal authorization roles.</p>
</li>
</ol>
</div>
<div class="sect2">
<h3 id="_storing_sensitive_information_with_openshift_secrets"><a class="anchor" href="#_storing_sensitive_information_with_openshift_secrets"></a>Storing Sensitive Information with OpenShift Secrets</h3>
<div class="paragraph">
<p>Just as with TLS certificates for secure connections, any sensitive information required for IDP integration (e.g., LDAP bind passwords, Keycloak client secrets, truststore containing the IDP&#8217;s TLS certificate) <strong>must</strong> be stored as OpenShift Secrets. This is a best practice for managing sensitive configuration data in OpenShift.</p>
</div>
<div class="paragraph">
<p>These secrets are then referenced by name in your <code>ActiveMQArtemis</code> CR configuration. This method ensures that sensitive data is not hardcoded directly in the CR, exposed in plain text in configuration files, or committed to version control systems.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Reference to Context</div>
The process of creating and linking secrets for sensitive data, such as IDP credentials, mirrors the method used for managing TLS certificates and keystores as described in the "Securing AMQ Broker on OpenShift" context. You would create a generic secret and then reference it in your <code>ActiveMQArtemis</code> CR where the IDP configuration requires credentials.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Example (Conceptual <code>ActiveMQArtemis</code> CR snippet - actual fields and structure will vary significantly by IDP type and AMQ Broker Operator version):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: broker.amq.io/v1beta1
kind: ActiveMQArtemis
metadata:
  name: my-idp-broker
  namespace: my-openshift-project
spec:
  # ... other broker configurations ...
  externalSecurity:
    # Example for LDAP integration (conceptual structure)
    ldap:
      url: ldaps://ldap.example.com:636
      bindDn: "cn=broker-reader,dc=example,dc=com"
      bindPasswordSecret: # Reference to an OpenShift secret for the bind password
        name: ldap-bind-secret
        key: password
      userSearchBase: "ou=users,dc=example,dc=com"
      userSearchFilter: "(uid={0})"
      groupSearchBase: "ou=groups,dc=example,dc=com"
      groupSearchFilter: "(member={0})"
      groupNameAttribute: "cn" # Attribute in LDAP group entry for group name
      roleMapping:
        - ldapGroup: "amqAdmins" # Group name from LDAP
          brokerRoles: ["admin", "manage"] # Corresponding AMQ Broker roles
        - ldapGroup: "amqConsumers"
          brokerRoles: ["consume"]

    # Example for OpenID Connect integration (conceptual structure)
    openidConnect:
      issuerUrl: "https://keycloak.example.com/auth/realms/myrealm"
      clientId: "amq-broker-client"
      clientSecretSecret: # Reference to an OpenShift secret for the client secret
        name: keycloak-client-secret
        key: clientSecret
      jwksUrl: "https://keycloak.example.com/auth/realms/myrealm/protocol/openid-connect/certs" # URL for JWKS endpoint
      rolesClaim: "realm_access.roles" # JWT claim path for roles
      roleMapping:
        - oidcRole: "broker-admin-role" # Role name from OIDC token
          brokerRoles: ["admin", "manage", "send", "consume"]
        - oidcRole: "broker-app-user"
          brokerRoles: ["send", "consume"]</code></pre>
</div>
</div>
<div class="paragraph">
<p>This conceptual YAML demonstrates how external security configurations for LDAP or OpenID Connect <strong>might</strong> be integrated into the <code>ActiveMQArtemis</code> CR. The exact fields, their allowed values, and structural hierarchy would be defined by the AMQ Broker Operator&#8217;s Custom Resource Definition (CRD) for external security and are subject to change between versions. Always consult the official Red Hat documentation for the specific version you are using.</p>
</div>
</div>
<div class="sect2">
<h3 id="_role_based_access_control_rbac_integration"><a class="anchor" href="#_role_based_access_control_rbac_integration"></a>Role-Based Access Control (RBAC) Integration</h3>
<div class="paragraph">
<p>After successfully authenticating users via an external IDP, AMQ Broker leverages its internal Role-Based Access Control (RBAC) mechanism for authorization. The role mapping configured within the <code>ActiveMQArtemis</code> CR is a critical component of this process. It translates the roles or groups provided by the IDP into roles understood by AMQ Broker (e.g., <code>admin</code>, <code>manage</code>, <code>send</code>, <code>consume</code>).</p>
</div>
<div class="paragraph">
<p>For example, an LDAP group named <code>amqAdmins</code> could be mapped to AMQ Broker&#8217;s <code>admin</code> and <code>manage</code> roles. Consequently, any user belonging to the <code>amqAdmins</code> LDAP group would automatically be granted full administrative and management access to the broker, including permissions to create/delete queues, view metrics, and manage connections. This separation of authentication and authorization allows for flexible and granular access control.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hands_on_activity_configuring_external_idp_integration_conceptual"><a class="anchor" href="#_hands_on_activity_configuring_external_idp_integration_conceptual"></a>Hands-on Activity: Configuring External IDP Integration (Conceptual)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This activity outlines the general steps one would typically follow to integrate AMQ Broker with an external Identity Provider. <strong>Due to the lack of specific, executable configuration details for external IDPs in the provided context, this section focuses on the conceptual workflow rather than providing precise, executable commands.</strong> Always refer to the official Red Hat AMQ Broker documentation for your specific version for the exact CR fields and values for your chosen IDP.</p>
</div>
<div class="sect2">
<h3 id="_objective"><a class="anchor" href="#_objective"></a>Objective</h3>
<div class="paragraph">
<p>Configure an AMQ Broker instance on OpenShift to authenticate users against an external Identity Provider (e.g., an LDAP server or Keycloak instance) and map external roles or groups to internal AMQ Broker roles for authorization.</p>
</div>
</div>
<div class="sect2">
<h3 id="_prerequisites"><a class="anchor" href="#_prerequisites"></a>Prerequisites</h3>
<div class="ulist">
<ul>
<li>
<p>An existing OpenShift Container Platform cluster with the AMQ Broker Operator installed.</p>
</li>
<li>
<p>Administrative access to your OpenShift project (<code>oc login</code>).</p>
</li>
<li>
<p>Access to an operational external Identity Provider (e.g., an LDAP server with users/groups, or a Keycloak realm configured with clients and roles).</p>
</li>
<li>
<p>Necessary connection details and credentials for the chosen IDP.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_steps"><a class="anchor" href="#_steps"></a>Steps</h3>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Identify IDP Configuration Parameters</strong>:
Gather all necessary connection details and authentication parameters for your chosen external IDP. This typically includes:</p>
<div class="ulist">
<ul>
<li>
<p><strong>For LDAP</strong>: LDAP server URL (e.g., <code>ldaps://ldap.example.com:636</code>), if required, a bind DN and password for directory searches, base DNs for user and group searches, specific user/group filters, and the attribute name used for group names.</p>
</li>
<li>
<p><strong>For OpenID Connect/OAuth 2.0 (e.g., Keycloak)</strong>: The Issuer URL, Client ID, Client Secret, the URL for the JSON Web Key Set (JWKS) endpoint, and the specific JWT claim path that contains role or group information.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Create OpenShift Secrets for Credentials</strong>:
Securely store any sensitive credentials required by the AMQ Broker to interact with the IDP (e.g., LDAP bind password, Keycloak client secret, or a truststore if the IDP uses a non-publicly trusted TLS certificate) as OpenShift Secrets within your project.</p>
<div class="ulist">
<ul>
<li>
<p>For example, to store an LDAP bind password:
<code><code>bash
oc create secret generic ldap-bind-secret --from-literal=password='your-secure-ldap-bind-password' -n my-openshift-project
</code></code></p>
</li>
<li>
<p>Or for a Keycloak client secret:
<code><code>bash
oc create secret generic keycloak-client-secret --from-literal=clientSecret='your-secure-keycloak-client-secret' -n my-openshift-project
</code></code></p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Modify <code>ActiveMQArtemis</code> Custom Resource</strong>:
Update your broker&#8217;s <code>ActiveMQArtemis</code> CR to include the <code>externalSecurity</code> configuration block. This involves:</p>
<div class="ulist">
<ul>
<li>
<p>Specifying the IDP type (e.g., <code>ldap</code>, <code>openidConnect</code>).</p>
</li>
<li>
<p>Providing the connection parameters using the secrets created in the previous step (e.g., referencing <code>ldap-bind-secret</code> or <code>keycloak-client-secret</code>).</p>
</li>
<li>
<p>Defining the role mapping logic to translate IDP-provided roles or groups into AMQ Broker&#8217;s internal roles (e.g., <code>admin</code>, <code>manage</code>, <code>send</code>, <code>consume</code>).</p>
<div class="literalblock">
<div class="content">
<pre>Refer to the conceptual YAML example provided earlier for the general structure, and *critically, consult the official AMQ Broker Operator documentation for your specific version* for the exact and up-to-date fields and syntax.</pre>
</div>
</div>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Apply the Updated CR</strong>:
Apply the changes to your <code>ActiveMQArtemis</code> CR using the <code>oc apply</code> command.
<code><code>bash
oc apply -f &lt;path-to-your-activemqartemis-cr.yaml&gt; -n my-openshift-project
</code></code>
The AMQ Broker Operator will detect the changes in the CR and reconcile the broker pods, applying the new authentication configuration. This may involve restarting broker pods.</p>
</li>
<li>
<p><strong>Test External Authentication</strong>:
After the broker pods have restarted and the configuration is applied, perform tests to verify that external authentication is working as expected:</p>
<div class="ulist">
<ul>
<li>
<p>Attempt to connect to the AMQ Broker using a client (e.g., a JMS, AMQP, or MQTT client application) with credentials that are managed by your external IDP.</p>
</li>
<li>
<p>Verify that authentication succeeds for valid users and fails for invalid credentials.</p>
</li>
<li>
<p>Ensure that the user is granted the expected permissions based on the configured role mapping. For example, an <code>admin</code> user from the IDP should be able to perform administrative tasks, while a regular <code>consumer</code> user should only be able to consume messages from allowed queues.</p>
</li>
<li>
<p>Monitor the AMQ Broker pod logs (<code>oc logs &lt;broker-pod-name&gt; -n my-openshift-project</code>) for any authentication-related errors or warnings that might indicate misconfiguration.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>This conceptual activity provides a roadmap for integrating external IDPs, emphasizing the architectural components and high-level steps involved. Always prioritize consulting the official Red Hat product documentation for detailed and executable configuration instructions specific to your AMQ Broker and Operator versions.</p>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="integrating-with-openshift-authentication-mechanisms.html">Integrating with OpenShift Authentication Mechanisms</a></span>
  <span class="next"><a href="overview-of-external-idp-integration-eg-ldap-keycloak.html">Overview of External IDP Integration (e.g., LDAP, Keycloak)</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
