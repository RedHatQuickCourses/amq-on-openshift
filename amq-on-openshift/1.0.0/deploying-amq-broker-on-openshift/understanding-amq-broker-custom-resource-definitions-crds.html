<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Untitled :: AMQ Broker on OpenShift: Deployment and Management</title>
    <link rel="prev" href="installing-the-amq-broker-operator-via-cli-or-operatorhub.html">
    <link rel="next" href="creating-and-managing-broker-instances-with-custom-resources-crs.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">AMQ Broker on OpenShift: Deployment and Management</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/REPLACEREPONAME/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="amq-on-openshift" data-version="1.0.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">AMQ Broker on OpenShift: Deployment and Management</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../overview-of-message-oriented-middleware/overview-of-message-oriented-middleware.html">Overview of Message-Oriented Middleware</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview-of-message-oriented-middleware/introduction-to-message-oriented-middleware-mom.html">Introduction to Message-Oriented Middleware (MOM)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview-of-message-oriented-middleware/benefits-and-use-cases-of-asynchronous-messaging.html">Benefits and Use Cases of Asynchronous Messaging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview-of-message-oriented-middleware/core-concepts-producers-consumers-queues-topics.html">Core Concepts: Producers, Consumers, Queues, Topics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview-of-message-oriented-middleware/common-messaging-patterns-point-to-point-publishsubscribe.html">Common Messaging Patterns</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../amq-broker-overview/amq-broker-overview.html">AMQ Broker Overview</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/introduction-to-red-hat-amq-broker.html">Introduction to Red Hat AMQ Broker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/foundations-in-apache-activemq-artemis.html">Foundations in Apache ActiveMQ Artemis</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/key-features-and-capabilities.html">Key Features and Capabilities</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/supported-messaging-protocols-jms-amqp-mqtt-stomp-openwire.html">Supported Messaging Protocols (JMS, AMQP, MQTT, STOMP, OpenWire)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/amq-broker-architecture.html">AMQ Broker Architecture</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="deploying-amq-broker-on-openshift.html">Deploying AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="openshift-container-platform-fundamentals-for-amq-broker.html">OpenShift Container Platform Fundamentals for AMQ Broker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="introduction-to-the-amq-broker-operator.html">Introduction to the AMQ Broker Operator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="installing-the-amq-broker-operator-via-cli-or-operatorhub.html">Installing the AMQ Broker Operator via CLI or OperatorHub</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="understanding-amq-broker-custom-resource-definitions-crds.html">understanding-amq-broker-custom-resource-definitions-crds.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="creating-and-managing-broker-instances-with-custom-resources-crs.html">Creating and Managing Broker Instances with Custom Resources (CRs)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="monitoring-initial-broker-deployment.html">Monitoring Initial Broker Deployment</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/scaling-amq-broker-on-openshift.html">Scaling AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/concepts-of-horizontal-and-vertical-scaling.html">Concepts of Horizontal and Vertical Scaling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/scaling-broker-pods-and-replicas.html">Scaling Broker Pods and Replicas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/adjusting-resource-allocations-cpu-memory-for-broker-pods.html">Adjusting Resource Allocations (CPU, Memory) for Broker Pods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/performance-considerations-for-scaling.html">Performance Considerations for Scaling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/best-practices-for-scaling-in-openshift.html">Best Practices for Scaling AMQ Broker on OpenShift</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../securing-amq-broker-on-openshift/securing-amq-broker-on-openshift.html">Securing AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/encrypting-connections.html">Encrypting Connections</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/configuring-ssltls-for-client-broker-communication.html">Configuring SSL/TLS for Client-Broker Communication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/managing-certificates-and-trust-stores-on-openshift.html">Managing Certificates and Trust Stores on OpenShift</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/enabling-secure-listeners.html">Enabling Secure Listeners</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/enabling-rbac-role-based-access-control.html">Enabling RBAC (Role-Based Access Control)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/defining-users-roles-and-permissions-in-amq-broker.html">Defining Users, Roles, and Permissions in AMQ Broker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/integrating-with-openshift-authentication-mechanisms.html">Integrating with OpenShift Authentication Mechanisms</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/integrating-external-identity-providers-idp.html">Integrating External Identity Providers (IDP)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/overview-of-external-idp-integration-eg-ldap-keycloak.html">Overview of External IDP Integration (e.g., LDAP, Keycloak)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/configuring-amq-broker-for-external-idp-authentication.html">Configuring AMQ Broker for External Identity Provider (IDP) Authentication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../securing-amq-broker-on-openshift/mapping-external-roles-to-broker-roles.html">Mapping External Roles to Broker Roles</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/amq-broker-high-availability-on-openshift.html">AMQ Broker High Availability on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/introduction-to-high-availability-ha-concepts.html">Introduction to High Availability (HA) Concepts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/broker-clustering-strategies-shared-store-vs-replicated-live-backup.html">Broker Clustering Strategies: Shared Store vs. Replicated Live-Backup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/deploying-and-configuring-an-ha-broker-pair.html">Deploying and Configuring an HA Broker Pair</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/understanding-failover-and-recovery-mechanisms.html">Understanding Failover and Recovery Mechanisms</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/persistence-and-data-replication-for-ha.html">Persistence and Data Replication for HA</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/different-message-stores-for-amq-broker-on-openshift.html">Different Message Stores for AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/overview-of-message-store-options.html">Overview of Message Store Options</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/file-based-message-store-configuration.html">File-Based Message Store Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/jdbc-message-store-integration-with-external-databases.html">JDBC Message Store Integration with External Databases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/journal-vs-paging-for-message-persistence.html">Journal vs. Paging for Message Persistence</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/choosing-the-appropriate-message-store-strategy.html">Choosing the Appropriate Message Store Strategy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/openshift-storage-considerations-persistent-volumes.html">Storage Considerations</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/accessing-management-console-for-amq-broker-on-openshift.html">Accessing Management Console for AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/introduction-to-the-hawtio-management-console.html">Introduction to the Hawtio Management Console</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/exposing-the-console-via-openshift-routes.html">Exposing the Hawtio Management Console via OpenShift Routes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/authentication-and-authorization-for-console-access.html">Authentication and Authorization for AMQ Broker Management Console Access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/monitoring-broker-metrics-queues-and-topics.html">Monitoring Broker Metrics, Queues, and Topics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/performing-administrative-tasks-through-the-console.html">Performing Administrative Tasks through the Console</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../enabling-external-access-to-brokers-deployed-on-openshift/enabling-external-access-to-brokers-deployed-on-openshift.html">Enabling External Access to Brokers Deployed on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enabling-external-access-to-brokers-deployed-on-openshift/openshift-networking-concepts-services-routes-ingress.html">OpenShift Networking Concepts: Services, Routes, Ingress</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enabling-external-access-to-brokers-deployed-on-openshift/exposing-broker-listeners-via-openshift-routes.html">Exposing Broker Listeners via OpenShift Routes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enabling-external-access-to-brokers-deployed-on-openshift/configuring-client-connections-for-external-access.html">Configuring Client Connections for External Access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enabling-external-access-to-brokers-deployed-on-openshift/security-implications-and-best-practices-for-external-access.html">Securing External Access to AMQ Broker on OpenShift</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../core-protocol-client-examples/core-protocol-client-examples.html">Core Protocol Client Examples</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/introduction-to-amq-core-protocol.html">Introduction to AMQ Core Protocol</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/setting-up-a-core-protocol-client-development-environment.html">Setting Up a Core Protocol Client Development Environment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/developing-producers-and-consumers-with-java-core-protocol.html">Developing Producers and Consumers with Java Core Protocol</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/implementing-point-to-point-messaging.html">Implementing Point-to-Point Messaging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/implementing-publishsubscribe-messaging.html">Implementing Publish/Subscribe Messaging</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../amqp-protocol-client-examples/amqp-protocol-client-examples.html">AMQP Protocol Client Examples</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/introduction-to-amqp-10-standard.html">Introduction to AMQP 1.0 Standard</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/setting-up-an-amqp-client-development-environment-eg-qpid-jms.html">Setting Up an AMQP Client Development Environment (e.g., Qpid JMS)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/developing-producers-and-consumers-with-amqp-clients-eg-java-python.html">Developing Producers and Consumers with AMQP Clients (e.g., Java, Python)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/connecting-to-amq-broker-using-amqp.html">Connecting to AMQ Broker using AMQP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/exploring-advanced-amqp-features.html">Exploring Advanced AMQP Features</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/hands-on-lab-deploying-and-managing-amq-broker.html">Hands-on Lab: Deploying and Managing AMQ Broker</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-deploying-a-basic-amq-broker-instance.html">Lab: Deploying a Basic AMQ Broker Instance</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-configuring-external-access-and-testing-client-connectivity.html">Lab: Configuring External Access and Testing Client Connectivity</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-implementing-basic-security-encryption-rbac.html">Lab: Implementing Basic Security (Encryption, RBAC)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-deploying-an-ha-broker-cluster.html">Lab: Deploying an HA Broker Cluster</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-monitoring-with-the-management-console.html">Lab: Monitoring with the Management Console</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-developing-and-testing-core-protocol-and-amqp-clients.html">Lab: Developing and Testing Core Protocol and AMQP Clients</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">AMQ Broker on OpenShift: Deployment and Management</span>
    <span class="version">1.0.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">AMQ Broker on OpenShift: Deployment and Management</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1.0.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">AMQ Broker on OpenShift: Deployment and Management</a></li>
    <li><a href="deploying-amq-broker-on-openshift.html">Deploying AMQ Broker on OpenShift</a></li>
    <li><a href="understanding-amq-broker-custom-resource-definitions-crds.html">understanding-amq-broker-custom-resource-definitions-crds.adoc</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<div class="sect1">
<h2 id="_understanding_amq_broker_custom_resource_definitions_crds"><a class="anchor" href="#_understanding_amq_broker_custom_resource_definitions_crds"></a>Understanding AMQ Broker Custom Resource Definitions (CRDs)</h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the OpenShift ecosystem, managing complex applications like Red Hat AMQ Broker is greatly simplified through the use of Operators. A cornerstone of the Operator pattern is the Custom Resource Definition (CRD), which allows you to extend the Kubernetes API with your own object kinds. This section delves into what CRDs are, their role in OpenShift, and specifically how they are utilized by the AMQ Broker Operator to manage broker instances.</p>
</div>
<div class="sect2">
<h3 id="_what_are_custom_resource_definitions_crds"><a class="anchor" href="#_what_are_custom_resource_definitions_crds"></a>What are Custom Resource Definitions (CRDs)?</h3>
<div class="paragraph">
<p>A Custom Resource Definition (CRD) is essentially a blueprint or schema that defines a new, custom object type within OpenShift (and Kubernetes). Think of it as extending the vocabulary of your OpenShift cluster. Just as OpenShift has built-in object types like <code>Deployment</code>, <code>Service</code>, or <code>Pod</code>, CRDs allow you to introduce new types specific to your applications.</p>
</div>
<div class="paragraph">
<p>When an Operator, like the AMQ Broker Operator, is installed, it registers one or more CRDs with the OpenShift API server. These CRDs then become available for users to interact with, just like native Kubernetes objects.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Schema for Configuration</strong>: A CRD specifies the structure and validation rules for the data that a Custom Resource (CR) instance will hold. It defines the configuration items you can set for a custom OpenShift object.</p>
</li>
<li>
<p><strong>API Extension</strong>: CRDs extend the Kubernetes API, allowing new resource types to be managed using standard Kubernetes tools like <code>kubectl</code> or OpenShift&#8217;s <code>oc</code> CLI.</p>
</li>
<li>
<p><strong>Operator&#8217;s Interface</strong>: For an Operator developer, the CRD acts as the API through which users configure and interact with the deployed application. The Operator watches for changes to CR instances based on its CRDs and takes action to reconcile the desired state.</p>
</li>
</ul>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
You can directly access the CRD through regular HTTP <code>curl</code> commands, because the CRD gets exposed automatically through Kubernetes.
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_custom_resources_crs"><a class="anchor" href="#_custom_resources_crs"></a>Custom Resources (CRs)</h3>
<div class="paragraph">
<p>While a CRD defines <strong>what</strong> a new object type looks like, a Custom Resource (CR) is an actual instance of that object type. A CR is a specific configuration you provide based on the CRD&#8217;s schema.</p>
</div>
<div class="paragraph">
<p>For example, if a CRD defines an <code>ActiveMQArtemis</code> object, a CR would be a YAML file where you specify the name, version, resource limits, and other properties for <strong>your particular</strong> AMQ Broker deployment.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Instance of a CRD</strong>: A CR is a specific configuration you apply to create or modify an instance of the custom object defined by a CRD.</p>
</li>
<li>
<p><strong>Declarative Configuration</strong>: You create a CR (typically a YAML file) that declares the desired state of your application component. The Operator reads this CR and ensures the actual state matches the declared state.</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Think of a CRD as a cookie cutter defining the shape, and a CR as an individual cookie made using that cutter, each with its own unique flavor (configuration).
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_amq_broker_specific_custom_resource_definitions"><a class="anchor" href="#_amq_broker_specific_custom_resource_definitions"></a>AMQ Broker Specific Custom Resource Definitions</h3>
<div class="paragraph">
<p>The AMQ Broker Operator comes bundled with several CRDs that enable you to deploy, configure, and manage AMQ Broker instances on OpenShift. The primary CRDs you will interact with are:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong><code>ActiveMQArtemis</code> CRD</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>This is the main CRD used for deploying and configuring AMQ Broker instances.</p>
</li>
<li>
<p>When you want to create a new AMQ Broker deployment, you create a Custom Resource (CR) based on this <code>ActiveMQArtemis</code> CRD.</p>
</li>
<li>
<p>This CR allows you to specify details like the broker&#8217;s name, image version (e.g., <code>7.13.3</code>), resource allocations (CPU, memory), persistence settings, network listeners, and more.</p>
</li>
<li>
<p>The <code>ActiveMQArtemis</code> CRD is foundational for creating and managing the broker pods themselves within an OpenShift project.</p>
</li>
<li>
<p><strong>Reference</strong>: For detailed configuration options, refer to the "Broker custom resource configuration reference" (Section 8.1.1 in the provided context).</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong><code>ActiveMQArtemisAddress</code> CRD</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>This CRD is used to define messaging addresses and queues that exist <strong>within</strong> your deployed AMQ Broker instances.</p>
</li>
<li>
<p>Instead of configuring addresses and queues directly on the broker&#8217;s filesystem or through its management console (though that&#8217;s still an option), you can declaratively define them using <code>ActiveMQArtemisAddress</code> CRs.</p>
</li>
<li>
<p>Each address and/or queue you wish to create on the broker requires a separate, uniquely named CR instance based on this CRD.</p>
</li>
<li>
<p>This allows for GitOps-style management of your messaging topology.</p>
</li>
<li>
<p><strong>Reference</strong>: For detailed configuration options, refer to the "Address Custom Resource configuration reference" (Section 8.1.2 in the provided context).</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>The AMQ Broker Operator installs these CRDs when it is deployed onto your OpenShift cluster. This makes it a prerequisite for creating any AMQ Broker-related Custom Resources.</p>
</div>
</div>
<div class="sect2">
<h3 id="_hands_on_activity_exploring_amq_broker_crds"><a class="anchor" href="#_hands_on_activity_exploring_amq_broker_crds"></a>Hands-on Activity: Exploring AMQ Broker CRDs</h3>
<div class="paragraph">
<p>Let&#8217;s explore the AMQ Broker CRDs installed by the Operator in your OpenShift cluster. This activity assumes you have the AMQ Broker Operator already installed. If not, please refer to the "Installing the AMQ Broker Operator via CLI or OperatorHub" objective.</p>
</div>
<div class="ulist">
<div class="title">Prerequisites</div>
<ul>
<li>
<p>An OpenShift cluster with the <code>oc</code> CLI tool configured and authenticated.</p>
</li>
<li>
<p>The AMQ Broker Operator installed in your cluster.</p>
</li>
</ul>
</div>
<div class="olist arabic">
<div class="title">Activity Steps</div>
<ol class="arabic">
<li>
<p><strong>Log in to your OpenShift Cluster</strong>:
Ensure you are logged into your OpenShift cluster with sufficient permissions to view Custom Resource Definitions.</p>
<div class="literalblock">
<div class="content">
<pre>oc login --token=&lt;your_token&gt; --server=&lt;your_api_server&gt;</pre>
</div>
</div>
</li>
<li>
<p><strong>List all Custom Resource Definitions (CRDs) in the Cluster</strong>:
To see all CRDs available in your cluster, use the <code>oc get crd</code> command. This will show a long list.</p>
<div class="literalblock">
<div class="content">
<pre>oc get crd</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>You will see output similar to this (truncated for brevity):
```
NAME                                     CREATED AT
activemqartemises.broker.amq.io          2023-10-26T10:00:00Z
activemqartemisaddresses.broker.amq.io   2023-10-26T10:00:00Z
...
```</pre>
</div>
</div>
</li>
<li>
<p><strong>Filter for AMQ Broker Specific CRDs</strong>:
To specifically find the CRDs related to AMQ Broker, you can filter the output. The AMQ Broker CRDs typically have the group <code>broker.amq.io</code>.</p>
<div class="literalblock">
<div class="content">
<pre>oc get crd | grep "broker.amq.io"</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>Expected output:</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>activemqartemisaddresses.broker.amq.io                     2023-10-26T10:00:00Z
activemqartemises.broker.amq.io                            2023-10-26T10:00:00Z</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>This confirms the presence of the `ActiveMQArtemis` and `ActiveMQArtemisAddress` CRDs.</pre>
</div>
</div>
</li>
<li>
<p><strong>Inspect a Specific CRD (Optional)</strong>:
You can inspect the full definition of a CRD to understand its schema, supported versions, and other details. Let&#8217;s look at the <code>ActiveMQArtemis</code> CRD.</p>
<div class="literalblock">
<div class="content">
<pre>oc describe crd activemqartemises.broker.amq.io</pre>
</div>
</div>
<div class="literalblock">
<div class="content">
<pre>This command will output a detailed description including the API versions, scope (namespace-scoped or cluster-scoped), validation schema, and how it's handled by the Kubernetes API. Pay attention to the `spec.versions.schema.openAPIV3Schema` section, which describes the fields available when creating an `ActiveMQArtemis` Custom Resource.</pre>
</div>
</div>
</li>
<li>
<p><strong>View a Minimal <code>ActiveMQArtemis</code> Custom Resource Example (Conceptual)</strong>:
While we won&#8217;t create a live broker here, understanding the structure of a Custom Resource is key. A minimal <code>ActiveMQArtemis</code> CR would look something like this:</p>
<div class="literalblock">
<div class="content">
<pre>apiVersion: broker.amq.io/v1beta1
kind: ActiveMQArtemis
metadata:
  name: my-broker
  namespace: my-amq-project
spec:
  deploymentPlan:
    size: 1
    image: placeholder
    # Other optional configurations can go here, e.g., persistence, resources</pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>apiVersion</code> and <code>kind</code> are crucial; they tell OpenShift which CRD this Custom Resource adheres to.</p>
</li>
<li>
<p><code>metadata.name</code> provides a unique identifier for this specific broker instance.</p>
</li>
<li>
<p><code>spec</code> contains the actual configuration defined by the <code>ActiveMQArtemis</code> CRD&#8217;s schema.</p>
</li>
</ul>
</div>
</li>
</ol>
</div>
<div class="paragraph">
<p>By completing this activity, you have seen how CRDs extend OpenShift&#8217;s capabilities and how the AMQ Broker Operator leverages them to manage messaging infrastructure. This declarative approach simplifies deployment and management, aligning with modern cloud-native practices.</p>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="installing-the-amq-broker-operator-via-cli-or-operatorhub.html">Installing the AMQ Broker Operator via CLI or OperatorHub</a></span>
  <span class="next"><a href="creating-and-managing-broker-instances-with-custom-resources-crs.html">Creating and Managing Broker Instances with Custom Resources (CRs)</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
