<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Enabling Secure Listeners :: AMQ Broker on OpenShift: Deployment and Management</title>
    <link rel="prev" href="managing-certificates-and-trust-stores-on-openshift.html">
    <link rel="next" href="enabling-rbac-role-based-access-control.html">
    <meta name="generator" content="Antora 3.1.3">
    <link rel="stylesheet" href="../../../_/css/site.css">
    <script>var uiRootPath = '../../../_'</script>
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://www.redhat.com" target="_blank"><img src="../../../_/img/redhat-logo.png" height="40px" alt="Red Hat"></a>
      <a class="navbar-item" style="font-size: 24px; color: white" href="../../..">AMQ Broker on OpenShift: Deployment and Management</a>
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <a class="navbar-item" href="https://github.com/RedHatQuickCourses/REPLACEREPONAME/issues" target="_blank">Report Issues</a>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="amq-on-openshift" data-version="1.0.0">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <h3 class="title"><a href="../index.html">AMQ Broker on OpenShift: Deployment and Management</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../index.html">Home</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../overview-of-message-oriented-middleware/overview-of-message-oriented-middleware.html">Overview of Message-Oriented Middleware</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview-of-message-oriented-middleware/introduction-to-message-oriented-middleware-mom.html">Introduction to Message-Oriented Middleware (MOM)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview-of-message-oriented-middleware/benefits-and-use-cases-of-asynchronous-messaging.html">Benefits and Use Cases of Asynchronous Messaging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview-of-message-oriented-middleware/core-concepts-producers-consumers-queues-topics.html">Core Concepts: Producers, Consumers, Queues, Topics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../overview-of-message-oriented-middleware/common-messaging-patterns-point-to-point-publishsubscribe.html">Common Messaging Patterns</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../amq-broker-overview/amq-broker-overview.html">AMQ Broker Overview</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/introduction-to-red-hat-amq-broker.html">Introduction to Red Hat AMQ Broker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/foundations-in-apache-activemq-artemis.html">Foundations in Apache ActiveMQ Artemis</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/key-features-and-capabilities.html">Key Features and Capabilities</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/supported-messaging-protocols-jms-amqp-mqtt-stomp-openwire.html">Supported Messaging Protocols (JMS, AMQP, MQTT, STOMP, OpenWire)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-overview/amq-broker-architecture.html">AMQ Broker Architecture</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/deploying-amq-broker-on-openshift.html">Deploying AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/openshift-container-platform-fundamentals-for-amq-broker.html">OpenShift Container Platform Fundamentals for AMQ Broker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/introduction-to-the-amq-broker-operator.html">Introduction to the AMQ Broker Operator</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/installing-the-amq-broker-operator-via-cli-or-operatorhub.html">Installing the AMQ Broker Operator via CLI or OperatorHub</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/understanding-amq-broker-custom-resource-definitions-crds.html">understanding-amq-broker-custom-resource-definitions-crds.adoc</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/creating-and-managing-broker-instances-with-custom-resources-crs.html">Creating and Managing Broker Instances with Custom Resources (CRs)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../deploying-amq-broker-on-openshift/monitoring-initial-broker-deployment.html">Monitoring Initial Broker Deployment</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/scaling-amq-broker-on-openshift.html">Scaling AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/concepts-of-horizontal-and-vertical-scaling.html">Concepts of Horizontal and Vertical Scaling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/scaling-broker-pods-and-replicas.html">Scaling Broker Pods and Replicas</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/adjusting-resource-allocations-cpu-memory-for-broker-pods.html">Adjusting Resource Allocations (CPU, Memory) for Broker Pods</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/performance-considerations-for-scaling.html">Performance Considerations for Scaling</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../scaling-amq-broker-on-openshift/best-practices-for-scaling-in-openshift.html">Best Practices for Scaling AMQ Broker on OpenShift</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="securing-amq-broker-on-openshift.html">Securing AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="encrypting-connections.html">Encrypting Connections</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configuring-ssltls-for-client-broker-communication.html">Configuring SSL/TLS for Client-Broker Communication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="managing-certificates-and-trust-stores-on-openshift.html">Managing Certificates and Trust Stores on OpenShift</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="enabling-secure-listeners.html">Enabling Secure Listeners</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="enabling-rbac-role-based-access-control.html">Enabling RBAC (Role-Based Access Control)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="defining-users-roles-and-permissions-in-amq-broker.html">Defining Users, Roles, and Permissions in AMQ Broker</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="integrating-with-openshift-authentication-mechanisms.html">Integrating with OpenShift Authentication Mechanisms</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="integrating-external-identity-providers-idp.html">Integrating External Identity Providers (IDP)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="overview-of-external-idp-integration-eg-ldap-keycloak.html">Overview of External IDP Integration (e.g., LDAP, Keycloak)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="configuring-amq-broker-for-external-idp-authentication.html">Configuring AMQ Broker for External Identity Provider (IDP) Authentication</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="mapping-external-roles-to-broker-roles.html">Mapping External Roles to Broker Roles</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/amq-broker-high-availability-on-openshift.html">AMQ Broker High Availability on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/introduction-to-high-availability-ha-concepts.html">Introduction to High Availability (HA) Concepts</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/broker-clustering-strategies-shared-store-vs-replicated-live-backup.html">Broker Clustering Strategies: Shared Store vs. Replicated Live-Backup</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/deploying-and-configuring-an-ha-broker-pair.html">Deploying and Configuring an HA Broker Pair</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/understanding-failover-and-recovery-mechanisms.html">Understanding Failover and Recovery Mechanisms</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amq-broker-high-availability-on-openshift/persistence-and-data-replication-for-ha.html">Persistence and Data Replication for HA</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/different-message-stores-for-amq-broker-on-openshift.html">Different Message Stores for AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/overview-of-message-store-options.html">Overview of Message Store Options</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/file-based-message-store-configuration.html">File-Based Message Store Configuration</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/jdbc-message-store-integration-with-external-databases.html">JDBC Message Store Integration with External Databases</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/journal-vs-paging-for-message-persistence.html">Journal vs. Paging for Message Persistence</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/choosing-the-appropriate-message-store-strategy.html">Choosing the Appropriate Message Store Strategy</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../different-message-stores-for-amq-broker-on-openshift/openshift-storage-considerations-persistent-volumes.html">Storage Considerations</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/accessing-management-console-for-amq-broker-on-openshift.html">Accessing Management Console for AMQ Broker on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/introduction-to-the-hawtio-management-console.html">Introduction to the Hawtio Management Console</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/exposing-the-console-via-openshift-routes.html">Exposing the Hawtio Management Console via OpenShift Routes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/authentication-and-authorization-for-console-access.html">Authentication and Authorization for AMQ Broker Management Console Access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/monitoring-broker-metrics-queues-and-topics.html">Monitoring Broker Metrics, Queues, and Topics</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../accessing-management-console-for-amq-broker-on-openshift/performing-administrative-tasks-through-the-console.html">Performing Administrative Tasks through the Console</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../enabling-external-access-to-brokers-deployed-on-openshift/enabling-external-access-to-brokers-deployed-on-openshift.html">Enabling External Access to Brokers Deployed on OpenShift</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enabling-external-access-to-brokers-deployed-on-openshift/openshift-networking-concepts-services-routes-ingress.html">OpenShift Networking Concepts: Services, Routes, Ingress</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enabling-external-access-to-brokers-deployed-on-openshift/exposing-broker-listeners-via-openshift-routes.html">Exposing Broker Listeners via OpenShift Routes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enabling-external-access-to-brokers-deployed-on-openshift/configuring-client-connections-for-external-access.html">Configuring Client Connections for External Access</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../enabling-external-access-to-brokers-deployed-on-openshift/security-implications-and-best-practices-for-external-access.html">Securing External Access to AMQ Broker on OpenShift</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../core-protocol-client-examples/core-protocol-client-examples.html">Core Protocol Client Examples</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/introduction-to-amq-core-protocol.html">Introduction to AMQ Core Protocol</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/setting-up-a-core-protocol-client-development-environment.html">Setting Up a Core Protocol Client Development Environment</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/developing-producers-and-consumers-with-java-core-protocol.html">Developing Producers and Consumers with Java Core Protocol</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/implementing-point-to-point-messaging.html">Implementing Point-to-Point Messaging</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../core-protocol-client-examples/implementing-publishsubscribe-messaging.html">Implementing Publish/Subscribe Messaging</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../amqp-protocol-client-examples/amqp-protocol-client-examples.html">AMQP Protocol Client Examples</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/introduction-to-amqp-10-standard.html">Introduction to AMQP 1.0 Standard</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/setting-up-an-amqp-client-development-environment-eg-qpid-jms.html">Setting Up an AMQP Client Development Environment (e.g., Qpid JMS)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/developing-producers-and-consumers-with-amqp-clients-eg-java-python.html">Developing Producers and Consumers with AMQP Clients (e.g., Java, Python)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/connecting-to-amq-broker-using-amqp.html">Connecting to AMQ Broker using AMQP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../amqp-protocol-client-examples/exploring-advanced-amqp-features.html">Exploring Advanced AMQP Features</a>
  </li>
</ul>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/hands-on-lab-deploying-and-managing-amq-broker.html">Hands-on Lab: Deploying and Managing AMQ Broker</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-deploying-a-basic-amq-broker-instance.html">Lab: Deploying a Basic AMQ Broker Instance</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-configuring-external-access-and-testing-client-connectivity.html">Lab: Configuring External Access and Testing Client Connectivity</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-implementing-basic-security-encryption-rbac.html">Lab: Implementing Basic Security (Encryption, RBAC)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-deploying-an-ha-broker-cluster.html">Lab: Deploying an HA Broker Cluster</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-monitoring-with-the-management-console.html">Lab: Monitoring with the Management Console</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../hands-on-lab-deploying-and-managing-amq-broker/lab-developing-and-testing-core-protocol-and-amqp-clients.html">Lab: Developing and Testing Core Protocol and AMQP Clients</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">AMQ Broker on OpenShift: Deployment and Management</span>
    <span class="version">1.0.0</span>
  </div>
  <ul class="components">
    <li class="component is-current">
      <a class="title" href="../index.html">AMQ Broker on OpenShift: Deployment and Management</a>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">1.0.0</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">AMQ Broker on OpenShift: Deployment and Management</a></li>
    <li><a href="securing-amq-broker-on-openshift.html">Securing AMQ Broker on OpenShift</a></li>
    <li><a href="enabling-secure-listeners.html">Enabling Secure Listeners</a></li>
  </ul>
</nav>
</div>
  <div class="content">
<aside class="toc sidebar" data-title="Contents" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Enabling Secure Listeners</h1>
<h1 id="_enabling_secure_listeners" class="sect0"><a class="anchor" href="#_enabling_secure_listeners"></a>Enabling Secure Listeners</h1>
<div class="paragraph">
<p>In the world of message-oriented middleware, securing the communication channels between clients and the broker is paramount. This module dives into the concept of secure listeners, explaining their importance and providing practical guidance on how to enable and configure them for AMQ Broker instances deployed on OpenShift.</p>
</div>
<div class="sect1">
<h2 id="_what_are_secure_listeners"><a class="anchor" href="#_what_are_secure_listeners"></a>What are Secure Listeners?</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Secure listeners, in the context of AMQ Broker, are network endpoints configured to accept incoming client connections over a secure, encrypted protocol, primarily SSL/TLS (Secure Sockets Layer/Transport Layer Security). Instead of transmitting data in plain text, which is vulnerable to eavesdropping and tampering, secure listeners ensure that all data exchanged between clients and the broker is encrypted.</p>
</div>
<div class="paragraph">
<p>Key benefits of using secure listeners include:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Data Confidentiality</strong>: Prevents unauthorized parties from reading sensitive message content.</p>
</li>
<li>
<p><strong>Data Integrity</strong>: Ensures that messages have not been altered in transit.</p>
</li>
<li>
<p><strong>Authentication</strong>: Allows clients to verify the identity of the broker (and optionally, for the broker to verify the client&#8217;s identity through mutual TLS), preventing spoofing attacks.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Without secure listeners, messages are sent over unencrypted connections, making them susceptible to various security threats, especially in environments where network traffic can be intercepted.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_how_amq_broker_secures_connections_on_openshift"><a class="anchor" href="#_how_amq_broker_secures_connections_on_openshift"></a>How AMQ Broker Secures Connections on OpenShift</h2>
<div class="sectionbody">
<div class="paragraph">
<p>On OpenShift, enabling secure listeners for AMQ Broker involves leveraging OpenShift&#8217;s native capabilities for secret management and the AMQ Broker Operator&#8217;s declarative API for configuration.</p>
</div>
<div class="sect2">
<h3 id="_role_of_ssltls"><a class="anchor" href="#_role_of_ssltls"></a>Role of SSL/TLS</h3>
<div class="paragraph">
<p>SSL/TLS is the cryptographic protocol that provides secure communication over a computer network. For AMQ Broker, it establishes an encrypted tunnel between the client and the broker. This process typically involves:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><strong>Certificate Exchange</strong>: The broker presents its digital certificate to the client. This certificate contains the broker&#8217;s public key and is signed by a Certificate Authority (CA) trusted by the client.</p>
</li>
<li>
<p><strong>Key Agreement</strong>: Client and broker use asymmetric cryptography (based on the public key from the certificate) to securely exchange a symmetric key.</p>
</li>
<li>
<p><strong>Encrypted Communication</strong>: All subsequent communication is encrypted using the agreed-upon symmetric key, which is much faster than asymmetric encryption.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>For this to work, the broker needs a <strong>key store</strong> containing its private key and server certificate, and clients need a <strong>trust store</strong> that allows them to verify the broker&#8217;s certificate chain. In more advanced scenarios (mutual TLS), the broker might also require a trust store to verify client certificates.</p>
</div>
</div>
<div class="sect2">
<h3 id="_key_stores_and_trust_stores"><a class="anchor" href="#_key_stores_and_trust_stores"></a>Key Stores and Trust Stores</h3>
<div class="ulist">
<ul>
<li>
<p><strong>Key Store (<code>.jks</code>, <code>.p12</code>)</strong>: A repository for cryptographic keys and certificates. For the AMQ Broker, its key store contains the broker&#8217;s private key and its corresponding public key certificate. This is what the broker uses to prove its identity to clients and to decrypt data encrypted with its public key. The context refers to <code>keyStorePath</code> and <code>keyStorePassword</code>.</p>
</li>
<li>
<p><strong>Trust Store (<code>.jks</code>, <code>.p12</code>)</strong>: A repository of certificates from trusted Certificate Authorities (CAs) or directly trusted public keys. Clients use their trust store to validate the broker&#8217;s certificate. If the broker&#8217;s certificate is signed by a CA present in the client&#8217;s trust store, the client trusts the broker. The context refers to <code>trustStorePath</code> and <code>trustStorePassword</code>. While the broker can also have a trust store (for mutual TLS), the primary use for a trust store when <strong>enabling secure listeners</strong> is on the <strong>client side</strong> to trust the broker.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_openshift_secrets_for_tls_assets"><a class="anchor" href="#_openshift_secrets_for_tls_assets"></a>OpenShift Secrets for TLS Assets</h3>
<div class="paragraph">
<p>On OpenShift, sensitive information like private keys, certificates, and passwords should never be hardcoded directly into configuration files or deployed in plain text. Instead, OpenShift <code>Secret</code> objects are used.</p>
</div>
<div class="paragraph">
<p>The AMQ Broker Operator allows you to reference an OpenShift <code>Secret</code> that contains the necessary key store, trust store, and their respective passwords. This secret is then mounted into the broker pods, making the TLS assets available for configuration. The context example <code>oc create secret generic mytlssecret</code> demonstrates how these files and passwords can be bundled into a secret.</p>
</div>
<div class="paragraph">
<p>The properties <code>enabledCipherSuites</code> and <code>enabledProtocols</code> from the context allow you to specify which cryptographic ciphers and SSL/TLS protocol versions (e.g., <code>TLSv1.2</code>, <code>TLSv1.3</code>) the secure listener should use, providing granular control over security strength and compatibility.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_hands_on_lab_configuring_secure_listeners"><a class="anchor" href="#_hands_on_lab_configuring_secure_listeners"></a>Hands-on Lab: Configuring Secure Listeners</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This lab guides you through the process of generating self-signed SSL/TLS certificates, creating an OpenShift secret to hold these credentials, and finally, configuring an AMQ Broker instance on OpenShift to use a secure listener.</p>
</div>
<div class="sect2">
<h3 id="_objective"><a class="anchor" href="#_objective"></a>Objective</h3>
<div class="ulist">
<ul>
<li>
<p>Generate a self-signed certificate and private key for the broker.</p>
</li>
<li>
<p>Create a client trust store containing the broker&#8217;s public certificate.</p>
</li>
<li>
<p>Store TLS credentials securely in an OpenShift Secret.</p>
</li>
<li>
<p>Modify an <code>ActiveMQArtemis</code> Custom Resource to enable an SSL/TLS-secured acceptor (listener).</p>
</li>
<li>
<p>Verify the secure listener is active.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_prerequisites"><a class="anchor" href="#_prerequisites"></a>Prerequisites</h3>
<div class="ulist">
<ul>
<li>
<p>An OpenShift cluster with <code>oc</code> CLI configured and logged in.</p>
</li>
<li>
<p>The AMQ Broker Operator installed in your OpenShift cluster.</p>
</li>
<li>
<p><code>keytool</code> command-line utility (part of the Java Development Kit - JDK) available on your local machine.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_step_1_generate_tls_certificates_and_key_store"><a class="anchor" href="#_step_1_generate_tls_certificates_and_key_store"></a>Step 1: Generate TLS Certificates and Key Store</h3>
<div class="paragraph">
<p>First, we will generate a self-signed certificate for our broker and export its public certificate to a client trust store. For a production environment, you would typically obtain certificates from a trusted Certificate Authority (CA).</p>
</div>
<div class="listingblock">
<div class="title">Create a directory for your TLS assets:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">mkdir -p tls-config
cd tls-config</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Generate the broker&#8217;s keystore (<code>broker.ks</code>) and a self-signed certificate:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">keytool -genkeypair -alias broker -keyalg RSA -keysize 2048 -storetype PKCS12 \
-keystore broker.ks -storepass password -keypass password \
-dname "CN=amq-broker-service,OU=IT,O=Red Hat,L=Raleigh,ST=NC,C=US" \
-ext SAN=DNS:amq-broker-service,DNS:localhost,IP:127.0.0.1</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p><code>amq-broker-service</code>: Replace this with the actual DNS name of your broker service within OpenShift. When creating a Route later, you might also need to include the Route&#8217;s hostname.</p>
</li>
<li>
<p><code>password</code>: This is the password for both the keystore and the private key within it. <strong>Always use strong, unique passwords in production.</strong></p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Export the broker&#8217;s public certificate from <code>broker.ks</code> to a separate file:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">keytool -exportcert -alias broker -keystore broker.ks -storepass password \
-file broker_certificate.cer</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Import the broker&#8217;s public certificate into a client trust store (<code>client.ts</code>):</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">keytool -importcert -alias broker -file broker_certificate.cer -storetype PKCS12 \
-keystore client.ts -storepass password -noprompt</code></pre>
</div>
</div>
<div class="paragraph">
<p>This <code>client.ts</code> will be used by client applications to trust the broker. For this lab, we&#8217;ll include it in the same secret for demonstration.</p>
</div>
</div>
<div class="sect2">
<h3 id="_step_2_create_openshift_secret_for_tls_credentials"><a class="anchor" href="#_step_2_create_openshift_secret_for_tls_credentials"></a>Step 2: Create OpenShift Secret for TLS Credentials</h3>
<div class="paragraph">
<p>Now, package the generated <code>broker.ks</code> and <code>client.ts</code> files, along with their passwords, into an OpenShift <code>Secret</code>.</p>
</div>
<div class="listingblock">
<div class="title">Define environment variables for the secret name and passwords:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">export SECRET_NAME=amq-broker-tls-secret
export KEYSTORE_PASSWORD=password
export TRUSTSTORE_PASSWORD=password</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Create the OpenShift Secret:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc create secret generic $SECRET_NAME \
--from-file=broker.ks=./broker.ks \
--from-file=client.ts=./client.ts \
--from-literal=keyStorePassword=$KEYSTORE_PASSWORD \
--from-literal=trustStorePassword=$TRUSTSTORE_PASSWORD \
-n $(oc project -q) # Or specify your project namespace, e.g., -n my-amq-project</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>The <code>broker.ks</code> and <code>client.ts</code> files are included.</p>
</li>
<li>
<p><code>keyStorePassword</code> and <code>trustStorePassword</code> are added as literal keys in the secret. The AMQ Broker Operator will read these from the secret to unlock the respective stores.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_step_3_deploy_amq_broker_with_secure_listeners"><a class="anchor" href="#_step_3_deploy_amq_broker_with_secure_listeners"></a>Step 3: Deploy AMQ Broker with Secure Listeners</h3>
<div class="paragraph">
<p>Next, we will create an <code>ActiveMQArtemis</code> Custom Resource (CR) that configures an acceptor (listener) to use SSL/TLS and references the secret we just created.</p>
</div>
<div class="listingblock">
<div class="title">Create a YAML file named <code>amq-broker-secure-ha.yaml</code> with the following content:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: broker.amq.io/v1beta1
kind: ActiveMQArtemis
metadata:
  name: amq-broker-secure-example
spec:
  deploymentPlan:
    size: 1
    image: registry.redhat.io/amq7/amq-broker-rhel8:7.10
    journalStorage:
      size: 2Gi
    brokerProperties:
      - "security.enabled=true" # Ensure security is enabled if you plan to configure users later
  acceptors:
    - name: amqp-secure
      port: 5671
      protocols: [AMQP]
      sslEnabled: true
      sslSecret: amq-broker-tls-secret # Name of the Secret created in Step 2
      # The keyStorePath refers to the file name *inside* the secret
      keyStorePath: broker.ks
      # The keyStorePassword refers to the literal key name *inside* the secret
      keyStorePassword: keyStorePassword
      enabledProtocols: [TLSv1.2, TLSv1.3]
      # Uncomment and configure if you need mutual TLS
      # trustStorePath: client.ts
      # trustStorePassword: trustStorePassword
    - name: core-secure
      port: 61617
      protocols: [CORE]
      sslEnabled: true
      sslSecret: amq-broker-tls-secret
      keyStorePath: broker.ks
      keyStorePassword: keyStorePassword
      enabledProtocols: [TLSv1.2, TLSv1.3]
  # Expose the secure AMQP port via an OpenShift Route
  console:
    expose: true
  addressSettings:
    - name: "#"
      redeliveryDelay: 1000
      maxDeliveryAttempts: 3
  # Example for external exposure - use a Route for secure external access
  # routes:
  #   - name: amqp-secure-external
  #     host: amqp-broker-secure.apps.&lt;cluster-hostname&gt;
  #     servicePort: 5671
  #     termination: passthrough # Important for TLS termination at the broker</code></pre>
</div>
</div>
<div class="ulist">
<ul>
<li>
<p>We&#8217;ve defined two acceptors (<code>amqp-secure</code> and <code>core-secure</code>) with <code>sslEnabled: true</code>.</p>
</li>
<li>
<p><code>sslSecret</code> points to <code>amq-broker-tls-secret</code>, the secret we created.</p>
</li>
<li>
<p><code>keyStorePath</code> and <code>keyStorePassword</code> reference the file and literal key within that secret.</p>
</li>
<li>
<p><code>enabledProtocols</code> explicitly sets <code>TLSv1.2</code> and <code>TLSv1.3</code> for stronger security.</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="title">Apply the Custom Resource to deploy the broker:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc apply -f amq-broker-secure-ha.yaml -n $(oc project -q)</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">Monitor the deployment:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc get activemqartemises
oc get pods -l activemq-artemis-name=amq-broker-secure-example</code></pre>
</div>
</div>
<div class="paragraph">
<p>Wait for the broker pod(s) to be in the <code>Running</code> state.</p>
</div>
</div>
<div class="sect2">
<h3 id="_step_4_verify_secure_listener_deployment"><a class="anchor" href="#_step_4_verify_secure_listener_deployment"></a>Step 4: Verify Secure Listener Deployment</h3>
<div class="paragraph">
<p>Once the broker pod is running, check its logs to confirm that the secure listeners have been initialized correctly.</p>
</div>
<div class="listingblock">
<div class="title">View the broker pod logs:</div>
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">oc logs $(oc get pod -l activemq-artemis-name=amq-broker-secure-example -o jsonpath='{.items[0].metadata.name}') -n $(oc project -q) | grep "acceptor"</code></pre>
</div>
</div>
<div class="paragraph">
<p>You should see log entries indicating that the secure acceptors are starting up on the specified ports (e.g., 5671 and 61617) with SSL enabled. Look for messages similar to:
<code>INFO  [org.apache.activemq.artemis.core.server] AMQ221007: Server will be started. AMQP Acceptor 'amqp-secure' is listening on nio://0.0.0.0:5671 for protocols [AMQP] with SSL.</code></p>
</div>
</div>
<div class="sect2">
<h3 id="_step_5_test_client_connectivity_overview"><a class="anchor" href="#_step_5_test_client_connectivity_overview"></a>Step 5: Test Client Connectivity (Overview)</h3>
<div class="paragraph">
<p>To fully test, you would develop a client application (e.g., in Java or Python, using AMQP or Core protocol libraries) that is configured to connect to the broker using SSL/TLS.</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The client application would need to reference the <code>client.ts</code> trust store (or <code>broker_certificate.cer</code> imported into a default JVM trust store) to trust the broker&#8217;s certificate.</p>
</li>
<li>
<p>The connection URL would specify SSL/TLS (e.g., <code>amqps://</code> for AMQP, or specific SSL parameters for Core Protocol).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>For example, a Java client connecting via AMQP over SSL might look like:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-java hljs" data-lang="java">// Example connection URI for AMQP/SSL
// This URI would be configured to point to your OpenShift Service for the broker,
// and you would need to set system properties for the trust store.
// System.setProperty("javax.net.ssl.trustStore", "/path/to/client.ts");
// System.setProperty("javax.net.ssl.trustStorePassword", "password");
// ConnectionFactory cf = new JmsConnectionFactory("amqps://amq-broker-secure-example-amqp:5671");</code></pre>
</div>
</div>
<div class="paragraph">
<p><em>Full client examples are covered in detail in the "Core Protocol Client Examples" and "AMQP Protocol Client Examples" modules.</em></p>
</div>
<div class="paragraph">
<p>By following these steps, you have successfully deployed an AMQ Broker instance on OpenShift with secure listeners enabled, ensuring encrypted communication between your clients and the broker.</p>
</div>
</div>
</div>
</div>
<nav class="pagination">
  <span class="prev"><a href="managing-certificates-and-trust-stores-on-openshift.html">Managing Certificates and Trust Stores on OpenShift</a></span>
  <span class="next"><a href="enabling-rbac-role-based-access-control.html">Enabling RBAC (Role-Based Access Control)</a></span>
</nav>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <img src="../../../_/img/rhl-logo-red.png" height="40px" alt="Red Hat"  href="https://redhat.com" >
</footer><script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
